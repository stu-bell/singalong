(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const u of f.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(l){if(l.ep)return;l.ep=!0;const f=i(l);fetch(l.href,f)}})();function Lo(n,o=()=>{}){a(n);const i=document.createElement("style");i.textContent=`
        .dragcontainer {
          width: 98vw;
          height: 98vh;
          top: 0vw;
          left: 1vh;
          position: absolute;
          overflow: auto;
        }
        .dragmode {
          border: 2px solid blue;
        }
        .drag-marker {
          display: none;
          cursor: se-resize;
          position: absolute;
          background-color: blue;
          width: 40px;
          height: 40px;
        }
        .dragmode>.drag-marker {
          display: block;
        }
        .drag-marker-top {
          border-right: 10px solid transparent;
          border-top: 10px solid blue;
          top: 0;
          left: 0;
        }
        .drag-marker-tail {
          border-left: 10px solid transparent;
          border-bottom: 10px solid blue;
          bottom: 0;
          right: 0;
        }
        .drag-exit {
          cursor: pointer;
          background-color: blue;
          justify-content: center;
          align-items: center;
          width: 30px;
          height: 30px;
          top: 0;
          right: 0;
        }
  `,document.head.appendChild(i);function a(S){const s=document.createElement("div");s.classList.add("drag-marker","drag-marker-top"),s.addEventListener("mousedown",_),s.addEventListener("touchstart",_),S.prepend(s);const p=document.createElement("div");s.textContent="",p.classList.add("drag-marker","drag-marker-tail"),p.addEventListener("mousedown",_),p.addEventListener("touchstart",_),S.append(p);const L=document.createElement("div");L.classList.add("drag-marker","drag-exit"),L.onclick=o,S.append(L)}let l=0,f=0,u=0,b=0,h=0,d=0;function _(S){S.preventDefault();const s="touches"in S?S.touches[0].clientX:S.clientX,p="touches"in S?S.touches[0].clientY:S.clientY;l=s,f=p,u=n.offsetWidth,b=n.offsetHeight,h=n.offsetLeft,d=n.offsetTop,document.addEventListener("mouseup",I),document.addEventListener("touchend",I),S.target?.className.includes("drag-marker-top")?(document.addEventListener("mousemove",k),document.addEventListener("touchmove",k)):S.target?.className.includes("drag-marker-tail")&&(document.addEventListener("mousemove",E),document.addEventListener("touchmove",E))}function k(S){S.preventDefault();const s="touches"in S?S.touches[0].clientX:S.clientX,p="touches"in S?S.touches[0].clientY:S.clientY,L=s-l,j=p-f;s>0&&(n.style.left=h+L+"px",n.style.width=u-L+"px"),p>0&&(n.style.top=d+j+"px",n.style.height=b-j+"px")}function E(S){S.preventDefault();const s="touches"in S?S.touches[0].clientX:S.clientX,p="touches"in S?S.touches[0].clientY:S.clientY,L=s-l,j=p-f;s<window.innerWidth&&(n.style.width=u+L+"px"),p<window.innerHeight&&(n.style.height=b+j+"px")}function I(){document.removeEventListener("mouseup",I),document.removeEventListener("mousemove",k),document.removeEventListener("mousemove",E),document.removeEventListener("touchend",I),document.removeEventListener("touchmove",k),document.removeEventListener("touchmove",E)}}const wt=n=>{const o=document.getElementById(n);if(o===null)throw new Error(`Cannot find element ${n}.`);return o},So=(n,o=null)=>(i=>i.hasOwnProperty(n)?i[n]:o);function Xr(n){var o=n.lastIndexOf(".");return o===-1?"":n.substring(o+1).toLowerCase()}const we=async n=>new Promise((o,i)=>{const a=new FileReader;a.onload=function(l){o(l.target.result)},a.onerror=l=>{i("Error reading file:"+l.target.error?.message)},a.readAsText(n)});function Ao(n){const i=n.replace(/\r\n/g,`
`).split(`
`),a=i[0].split("	").map(f=>f.trim());return i.slice(1).map(f=>{const u=f.split("	");if(u.join("")==="")return null;let b={};return a.forEach((h,d)=>{b[h]=u[d]||""}),b}).filter(f=>!!f)}function Eo(n,o){const i=new Blob([n],{type:"text/plain"}),a=URL.createObjectURL(i),l=document.createElement("a");l.href=a,l.download=o,document.body.appendChild(l),l.click(),document.body.removeChild(l)}const ue=/\[\d?\d?:?\d?\d\.?\d?\d?\d?\]/g;function Co(n){const o=n.replace(`\r
`,`
`).replace("\r",`
`).split(`
`).filter(a=>a.trim()!=="").filter(a=>!(a.startsWith("[")&&a.endsWith("]")));let i=[{timestamp:0,text:""}];return o.forEach(a=>{const l=a.trim(),f=l.match(ue);if(f&&f.length>0){const u=l.replace(ue,"").trim();f.forEach(b=>{i.push({timestamp:Gr(b),text:u||" "})})}}),i.sort((a,l)=>(a.timestamp||0)-(l.timestamp||0)),i}function Io(n){const i=n.split(`
`).map(a=>({text:a,timestamp:null}));return[{timestamp:0,text:""},...i]}function Oo(n,o){return(Xr(o.name)==="lrc"?Co:Io)(n)}function Gr(n){let o;const a=n.replace(/[[\]]/g,"").split(":");if(a.length===1)o=parseFloat(a[0]);else{const l=parseInt(a[0]),f=parseFloat(a[1]);o=l*60+f}return o}function Fo(n){const o=Math.floor(n/60),i=(n%60).toFixed(2);return`${o}:${i}`}let Ht,et={lines:[],numberOfLines:4,currentLineIndex:0};function To(n,o=""){const i=document.createElement("li");i.textContent=o,i.classList.add("zero"),n.prepend(i),n.lastElementChild&&n.lastElementChild.remove();const a=n.firstElementChild;if(a){a.offsetWidth,a.classList.remove("zero"),a.classList.add("large");const l=n.getElementsByTagName("li")[1];l&&l.classList.remove("large")}}function Po(n,o=""){n.querySelectorAll(".zero").forEach(l=>l.remove());const i=n.firstElementChild;if(i){i.classList.remove("large"),i.classList.add("zero");const l=n.getElementsByTagName("li")[1];l&&l.classList.add("large"),i.addEventListener("transitionend",f=>f.target.remove())}const a=document.createElement("li");a.textContent=o,n.appendChild(a)}let dn=null,xe;function Or(n){if(dn&&clearTimeout(dn),et.lines[et.currentLineIndex+1]&&et.lines[et.currentLineIndex+1].hasOwnProperty("timestamp")&&et.lines[et.currentLineIndex+1].timestamp!==null&&et.lines[et.currentLineIndex+1].timestamp>=0){const o=n||et.lines[et.currentLineIndex].timestamp||0,a=(et.lines[et.currentLineIndex+1].timestamp||0)-o;a>=0&&(dn=setTimeout(()=>{xe=Date.now(),je()},a*1e3))}}const zo=(n=500)=>Date.now()-xe<n;function No(n,o=0){const i=n.findIndex(l=>(l.timestamp||0)>o);return i===-1?n.length:i-1}function Mo(n,o,i=0,a){Ht=o;const l=a?n.filter(h=>(h.timestamp||0)<=a):n;et.lines=l;const f=No(et.lines,i);for(et.currentLineIndex=f;Ht.firstChild;)Ht.firstChild.remove();const u=et.lines.slice(et.currentLineIndex,et.currentLineIndex+et.numberOfLines).map(So("text",""));for(let h of u){const d=document.createElement("li");d.textContent=h,Ht.appendChild(d)}const b=Ht.firstElementChild;b.offsetWidth,b.classList.add("large"),Or(i)}function je(){et.currentLineIndex++,et.currentLineIndex>=et.lines.length&&Zr(),Or();const n=et.lines[et.currentLineIndex+et.numberOfLines-1],o=n?n.text:"";Po(Ht,o)}let le;function Bo(){if(Date.now()-le<800){et.currentLineIndex--,Or();const n=et.lines[et.currentLineIndex],o=n?n.text:"";To(Ht,o)}else Or();le=Date.now()}let pn,ke;function $o(){return ke}function Le(){return pn||(pn=new window.AudioContext),pn}async function Se(n){const o=Le(),i=await n.arrayBuffer();return new Promise((a,l)=>{o.decodeAudioData(i,a,l)})}function qo(n){const i=Le().createBufferSource();return i.buffer=n,i}function Do(n){const o=n.context,i=o.createGain();return n.connect(i),i.connect(o.destination),i}function Uo(n){const o=qo(n);return{source:o,gain:Do(o)}}function Wo(n,o=0,i,a,l){const f=n.source.context;n.source.start(i,a,l),n.gain.gain.setValueAtTime(0,f.currentTime),n.gain.gain.linearRampToValueAtTime(1,f.currentTime+o),ke=n}function Ro(n,o=0){const i=n.source.context,a=i.currentTime+o;n.gain.gain.setValueAtTime(1,i.currentTime),n.gain.gain.linearRampToValueAtTime(0,a),n.source.stop(a)}function Yo(n,o,i=0,a,l){o?Wo(o,i,void 0,a,l):console.log("crossFade called but graphNext is null"),n&&Ro(n,i)}async function Go(n){if(n)return Fo((await Se(n)).duration);throw new Error("file not provided")}var fe,Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={exports:{}},Vo=Math.floor,Rr=Math.max,ar=Math.min,hn=function(n,o){return o?2*n/o:1},Xo=function(n,o){var i,a,l,f,u,b;for(u=[n.length,o.length],i=f=0,b=ar(a=u[0],l=u[1]);0<=b?f<b:f>b;i=0<=b?++f:--f){if(n[i]<o[i])return-1;if(n[i]>o[i])return 1}return a-l},Sr=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},Zo=(function(){function n(o,i,a,l){this.isjunk=o,i==null&&(i=""),a==null&&(a=""),this.autojunk=l==null||l,this.a=this.b=null,this.setSeqs(i,a)}return n.prototype.setSeqs=function(o,i){return this.setSeq1(o),this.setSeq2(i)},n.prototype.setSeq1=function(o){if(o!==this.a)return this.a=o,this.matchingBlocks=this.opcodes=null},n.prototype.setSeq2=function(o){if(o!==this.b)return this.b=o,this.matchingBlocks=this.opcodes=null,this.fullbcount=null,this._chainB()},n.prototype._chainB=function(){var o,i,a,l,f,u,b,h,d,_,k,E,I,S;for(o=this.b,this.b2j=i={},l=_=0,E=o.length;_<E;l=++_)a=o[l],(Sr(i,a)?i[a]:i[a]=[]).push(l);if(u={},f=this.isjunk)for(k=0,I=(S=Object.keys(i)).length;k<I;k++)f(a=S[k])&&(u[a]=!0,delete i[a]);if(d={},b=o.length,this.autojunk&&b>=200)for(a in h=Vo(b/100)+1,i)i[a].length>h&&(d[a]=!0,delete i[a]);return this.isbjunk=function(s){return Sr(u,s)},this.isbpopular=function(s){return Sr(d,s)}},n.prototype.findLongestMatch=function(o,i,a,l){var f,u,b,h,d,_,k,E,I,S,s,p,L,j,B,U,$,Z,ct,ht,ut;for(f=(U=[this.a,this.b,this.b2j,this.isbjunk])[0],u=U[1],b=U[2],E=U[3],h=($=[o,a,0])[0],d=$[1],_=$[2],S={},k=L=o;o<=i?L<i:L>i;k=o<=i?++L:--L){for(p={},j=0,B=(Z=Sr(b,f[k])?b[f[k]]:[]).length;j<B;j++)if(!((I=Z[j])<a)){if(I>=l)break;(s=p[I]=(S[I-1]||0)+1)>_&&(h=(ct=[k-s+1,I-s+1,s])[0],d=ct[1],_=ct[2])}S=p}for(;h>o&&d>a&&!E(u[d-1])&&f[h-1]===u[d-1];)h=(ht=[h-1,d-1,_+1])[0],d=ht[1],_=ht[2];for(;h+_<i&&d+_<l&&!E(u[d+_])&&f[h+_]===u[d+_];)_++;for(;h>o&&d>a&&E(u[d-1])&&f[h-1]===u[d-1];)h=(ut=[h-1,d-1,_+1])[0],d=ut[1],_=ut[2];for(;h+_<i&&d+_<l&&E(u[d+_])&&f[h+_]===u[d+_];)_++;return[h,d,_]},n.prototype.getMatchingBlocks=function(){var o,i,a,l,f,u,b,h,d,_,k,E,I,S,s,p,L,j,B,U,$,Z,ct,ht,ut,At;if(this.matchingBlocks)return this.matchingBlocks;for(j=[[0,S=(Z=[this.a.length,this.b.length])[0],0,s=Z[1]]],p=[];j.length;)i=(ct=j.pop())[0],o=ct[1],l=ct[2],a=ct[3],f=(ht=B=this.findLongestMatch(i,o,l,a))[0],h=ht[1],(k=ht[2])&&(p.push(B),i<f&&l<h&&j.push([i,f,l,h]),f+k<o&&h+k<a&&j.push([f+k,o,h+k,a]));for(p.sort(Xo),u=d=E=0,L=[],U=0,$=p.length;U<$;U++)b=(ut=p[U])[0],_=ut[1],I=ut[2],u+E===b&&d+E===_?E+=I:(E&&L.push([u,d,E]),u=(At=[b,_,I])[0],d=At[1],E=At[2]);return E&&L.push([u,d,E]),L.push([S,s,0]),this.matchingBlocks=L},n.prototype.getOpcodes=function(){var o,i,a,l,f,u,b,h,d,_,k,E;if(this.opcodes)return this.opcodes;for(l=f=0,this.opcodes=i=[],h=0,d=(_=this.getMatchingBlocks()).length;h<d;h++)o=(k=_[h])[0],a=k[1],u=k[2],b="",l<o&&f<a?b="replace":l<o?b="delete":f<a&&(b="insert"),b&&i.push([b,l,o,f,a]),l=(E=[o+u,a+u])[0],f=E[1],u&&i.push(["equal",o,l,a,f]);return i},n.prototype.getGroupedOpcodes=function(o){var i,a,l,f,u,b,h,d,_,k,E,I,S,s,p;for(o==null&&(o=3),(i=this.getOpcodes()).length||(i=[["equal",0,1,0,1]]),i[0][0]==="equal"&&(_=(I=i[0])[0],f=I[1],u=I[2],b=I[3],h=I[4],i[0]=[_,Rr(f,u-o),u,Rr(b,h-o),h]),i[i.length-1][0]==="equal"&&(_=(S=i[i.length-1])[0],f=S[1],u=S[2],b=S[3],h=S[4],i[i.length-1]=[_,f,ar(u,f+o),b,ar(h,b+o)]),d=o+o,l=[],a=[],k=0,E=i.length;k<E;k++)_=(s=i[k])[0],f=s[1],u=s[2],b=s[3],h=s[4],_==="equal"&&u-f>d&&(a.push([_,f,ar(u,f+o),b,ar(h,b+o)]),l.push(a),a=[],f=(p=[Rr(f,u-o),Rr(b,h-o)])[0],b=p[1]),a.push([_,f,u,b,h]);return!a.length||a.length===1&&a[0][0]==="equal"||l.push(a),l},n.prototype.ratio=function(){var o,i,a,l;for(o=0,i=0,a=(l=this.getMatchingBlocks()).length;i<a;i++)o+=l[i][2];return hn(o,this.a.length+this.b.length)},n.prototype.quickRatio=function(){var o,i,a,l,f,u,b,h,d,_,k;if(!this.fullbcount)for(this.fullbcount=a={},u=0,h=(_=this.b).length;u<h;u++)a[i=_[u]]=(a[i]||0)+1;for(a=this.fullbcount,o={},l=0,b=0,d=(k=this.a).length;b<d;b++)i=k[b],f=Sr(o,i)?o[i]:a[i]||0,o[i]=f-1,f>0&&l++;return hn(l,this.a.length+this.b.length)},n.prototype.realQuickRatio=function(){var o,i,a;return a=[this.a.length,this.b.length],hn(ar(o=a[0],i=a[1]),o+i)},n})(),Ee={exports:{}};fe=Ee,(function(){var n,o,i,a,l,f,u,b,h,d,_,k,E,I,S;i=Math.floor,d=Math.min,o=function(s,p){return s<p?-1:s>p?1:0},h=function(s,p,L,j,B){var U;if(L==null&&(L=0),B==null&&(B=o),L<0)throw new Error("lo must be non-negative");for(j==null&&(j=s.length);L<j;)B(p,s[U=i((L+j)/2)])<0?j=U:L=U+1;return[].splice.apply(s,[L,L-L].concat(p)),p},f=function(s,p,L){return L==null&&(L=o),s.push(p),I(s,0,s.length-1,L)},l=function(s,p){var L,j;return p==null&&(p=o),L=s.pop(),s.length?(j=s[0],s[0]=L,S(s,0,p)):j=L,j},b=function(s,p,L){var j;return L==null&&(L=o),j=s[0],s[0]=p,S(s,0,L),j},u=function(s,p,L){var j;return L==null&&(L=o),s.length&&L(s[0],p)<0&&(p=(j=[s[0],p])[0],s[0]=j[1],S(s,0,L)),p},a=function(s,p){var L,j,B,U,$,Z;for(p==null&&(p=o),$=[],j=0,B=(U=(function(){Z=[];for(var ct=0,ht=i(s.length/2);0<=ht?ct<ht:ct>ht;0<=ht?ct++:ct--)Z.push(ct);return Z}).apply(this).reverse()).length;j<B;j++)L=U[j],$.push(S(s,L,p));return $},E=function(s,p,L){var j;if(L==null&&(L=o),(j=s.indexOf(p))!==-1)return I(s,0,j,L),S(s,j,L)},_=function(s,p,L){var j,B,U,$,Z;if(L==null&&(L=o),!(B=s.slice(0,p)).length)return B;for(a(B,L),U=0,$=(Z=s.slice(p)).length;U<$;U++)j=Z[U],u(B,j,L);return B.sort(L).reverse()},k=function(s,p,L){var j,B,U,$,Z,ct,ht,ut,At;if(L==null&&(L=o),10*p<=s.length){if(!(U=s.slice(0,p).sort(L)).length)return U;for(B=U[U.length-1],$=0,ct=(ht=s.slice(p)).length;$<ct;$++)L(j=ht[$],B)<0&&(h(U,j,0,null,L),U.pop(),B=U[U.length-1]);return U}for(a(s,L),At=[],Z=0,ut=d(p,s.length);0<=ut?Z<ut:Z>ut;0<=ut?++Z:--Z)At.push(l(s,L));return At},I=function(s,p,L,j){var B,U,$;for(j==null&&(j=o),B=s[L];L>p&&j(B,U=s[$=L-1>>1])<0;)s[L]=U,L=$;return s[L]=B},S=function(s,p,L){var j,B,U,$,Z;for(L==null&&(L=o),B=s.length,Z=p,U=s[p],j=2*p+1;j<B;)($=j+1)<B&&!(L(s[j],s[$])<0)&&(j=$),s[p]=s[j],j=2*(p=j)+1;return s[p]=U,I(s,Z,p,L)},n=(function(){function s(p){this.cmp=p??o,this.nodes=[]}return s.push=f,s.pop=l,s.replace=b,s.pushpop=u,s.heapify=a,s.updateItem=E,s.nlargest=_,s.nsmallest=k,s.prototype.push=function(p){return f(this.nodes,p,this.cmp)},s.prototype.pop=function(){return l(this.nodes,this.cmp)},s.prototype.peek=function(){return this.nodes[0]},s.prototype.contains=function(p){return this.nodes.indexOf(p)!==-1},s.prototype.replace=function(p){return b(this.nodes,p,this.cmp)},s.prototype.pushpop=function(p){return u(this.nodes,p,this.cmp)},s.prototype.heapify=function(){return a(this.nodes,this.cmp)},s.prototype.updateItem=function(p){return E(this.nodes,p,this.cmp)},s.prototype.clear=function(){return this.nodes=[]},s.prototype.empty=function(){return this.nodes.length===0},s.prototype.size=function(){return this.nodes.length},s.prototype.clone=function(){var p;return(p=new s).nodes=this.nodes.slice(0),p},s.prototype.toArray=function(){return this.nodes.slice(0)},s.prototype.insert=s.prototype.push,s.prototype.top=s.prototype.peek,s.prototype.front=s.prototype.peek,s.prototype.has=s.prototype.contains,s.prototype.copy=s.prototype.clone,s})(),fe.exports=n}).call(Qt);var gn,yn,bn,Ho=Ee.exports,Lt={exports:{}};(function(n,o){(function(){function i(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)}function a(t,r){for(var e=-1,c=t==null?0:t.length;++e<c&&r(t[e],e,t)!==!1;);return t}function l(t,r){var e;if(e=!(t==null||!t.length)){if(r==r)t:{e=-1;for(var c=t.length;++e<c;)if(t[e]===r)break t;e=-1}else t:{e=d,c=t.length;for(var m=-1;++m<c;)if(e(t[m],m,t)){e=m;break t}e=-1}e=-1<e}return e}function f(t,r,e){for(var c=-1,m=t==null?0:t.length;++c<m;)if(e(r,t[c]))return!0;return!1}function u(t,r){for(var e=-1,c=t==null?0:t.length,m=Array(c);++e<c;)m[e]=r(t[e],e,t);return m}function b(t,r){for(var e=-1,c=r.length,m=t.length;++e<c;)t[m+e]=r[e];return t}function h(t,r){for(var e=-1,c=t==null?0:t.length;++e<c;)if(r(t[e],e,t))return!0;return!1}function d(t){return t!=t}function _(t){return function(r){return t(r)}}function k(t,r){return t.has(r)}function E(t){var r=-1,e=Array(t.size);return t.forEach((function(c,m){e[++r]=[m,c]})),e}function I(t){var r=Object;return function(e){return t(r(e))}}function S(t,r){for(var e=-1,c=t.length,m=0,v=[];++e<c;){var w=t[e];w!==r&&w!=="__lodash_placeholder__"||(t[e]="__lodash_placeholder__",v[m++]=e)}return v}function s(t){var r=-1,e=Array(t.size);return t.forEach((function(c){e[++r]=c})),e}function p(){}function L(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function j(t){var r=-1,e=t==null?0:t.length;for(this.clear();++r<e;){var c=t[r];this.set(c[0],c[1])}}function B(t){var r=-1,e=t==null?0:t.length;for(this.clear();++r<e;){var c=t[r];this.set(c[0],c[1])}}function U(t){var r=-1,e=t==null?0:t.length;for(this.clear();++r<e;){var c=t[r];this.set(c[0],c[1])}}function $(t){var r=-1,e=t==null?0:t.length;for(this.__data__=new U;++r<e;)this.add(t[r])}function Z(t){this.size=(this.__data__=new B(t)).size}function ct(t,r){var e=_t(t),c=!e&&Wr(t),m=!e&&!c&&Lr(t),v=!e&&!c&&!m&&fn(t);if(e=e||c||m||v){c=t.length;for(var w=String,x=-1,T=Array(c);++x<c;)T[x]=w(x);c=T}else c=[];var P;w=c.length;for(P in t)!r&&!xt.call(t,P)||e&&(P=="length"||m&&(P=="offset"||P=="parent")||v&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||X(P,w))||c.push(P);return c}function ht(t,r,e){var c=t[r];xt.call(t,r)&&It(c,e)&&(e!==W||r in t)||At(t,r,e)}function ut(t,r){for(var e=t.length;e--;)if(It(t[e][0],r))return e;return-1}function At(t,r,e){r=="__proto__"&&qr?qr(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e}function Ut(t,r,e,c,m,v){var w,x=2&r;if(w!==W)return w;if(!Ot(t))return t;if(c=_t(t))w=(function(M){var R=M.length,ft=new M.constructor(R);return R&&typeof M[0]=="string"&&xt.call(M,"index")&&(ft.index=M.index,ft.input=M.input),ft})(t);else{var T=Et(t),P=T=="[object Function]"||T=="[object GeneratorFunction]";if(Lr(t))return(function(M,R){return M.slice()})(t);if(T=="[object Object]"||T=="[object Arguments]"||P&&!m)w=x||P||typeof t.constructor!="function"||H(t)?{}:un(oo(t));else{if(!it[T])return m?t:{};w=(function(M,R,ft){var pt=M.constructor;switch(R){case"[object ArrayBuffer]":return rr(M);case"[object Boolean]":case"[object Date]":return new pt(+M);case"[object DataView]":return R=rr(M.buffer),new M.constructor(R,M.byteOffset,M.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return R=rr(M.buffer),new M.constructor(R,M.byteOffset,M.length);case"[object Map]":return new pt;case"[object Number]":case"[object String]":return new pt(M);case"[object RegExp]":return(R=new M.constructor(M.source,Ge.exec(M))).lastIndex=M.lastIndex,R;case"[object Set]":return new pt;case"[object Symbol]":return kr?Object(kr.call(M)):{}}})(t,T)}}if(v||(v=new Z),m=v.get(t))return m;if(v.set(t,w),ae(t))return t.forEach((function(N){w.add(Ut(N,r,e,N,t,v))})),w;if(ie(t))return t.forEach((function(N,M){w.set(M,Ut(N,r,e,M,t,v))})),w;x=x?Tn:nr;var z=c?W:x(t);return a(z||t,(function(N,M){z&&(N=t[M=N]),ht(w,M,Ut(N,r,e,M,t,v))})),w}function sr(t,r,e,c){var m=-1,v=l,w=!0,x=t.length,T=[],P=r.length;if(!x)return T;c?(v=f,w=!1):200<=r.length&&(v=k,w=!1,r=new $(r));t:for(;++m<x;){var z=t[m],N=z;if(z=c||z!==0?z:0,w&&N==N){for(var M=P;M--;)if(r[M]===N)continue t;T.push(z)}else v(r,N,c)||T.push(z)}return T}function dr(t,r,e,c,m){var v=-1,w=t.length;for(e||(e=D),m||(m=[]);++v<w;){var x=t[v];e(x)&&b(m,x)}return m}function pr(t,r){for(var e=0,c=(r=vr(r,t)).length;t!=null&&e<c;)t=t[ot(r[e++])];return e&&e==c?t:W}function Tr(t,r,e){return r=r(t),_t(t)?r:b(r,e(t))}function Ct(t){if(t==null)t=t===W?"[object Undefined]":"[object Null]";else if(Xt&&Xt in Object(t)){var r=xt.call(t,Xt),e=t[Xt];try{t[Xt]=W;var c=!0}catch{}var m=Vn.call(t);c&&(r?t[Xt]=e:delete t[Xt]),t=m}else t=Vn.call(t);return t}function hr(t,r,e){for(var c=e?f:l,m=t[0].length,v=t.length,w=v,x=Array(v),T=1/0,P=[];w--;){var z=t[w];T=on(z.length,T),x[w]=!e&&120<=m&&120<=z.length?new $(w&&z):W}z=t[0];var N=-1,M=x[0];t:for(;++N<m&&P.length<T;){var R=z[N],ft=R;if(R=e||R!==0?R:0,M?!k(M,ft):!c(P,ft,e)){for(w=v;--w;){var pt=x[w];if(pt?!k(pt,ft):!c(t[w],ft,e))continue t}M&&M.push(ft),P.push(R)}}return P}function gr(t){return Ft(t)&&Ct(t)=="[object Arguments]"}function Pt(t,r,e,c,m){if(t===r)r=!0;else if(t==null||r==null||!Ft(t)&&!Ft(r))r=t!=t&&r!=r;else t:{var v,w,x=_t(t),T=_t(r),P=(v=(v=x?"[object Array]":Et(t))=="[object Arguments]"?"[object Object]":v)=="[object Object]";if(T=(w=(w=T?"[object Array]":Et(r))=="[object Arguments]"?"[object Object]":w)=="[object Object]",(w=v==w)&&Lr(t)){if(!Lr(r)){r=!1;break t}x=!0,P=!1}if(w&&!P)m||(m=new Z),r=x||fn(t)?y(t,r,e,c,Pt,m):G(t,r,v,e,c,Pt,m);else{if(!(1&e)&&(x=P&&xt.call(t,"__wrapped__"),v=T&&xt.call(r,"__wrapped__"),x||v)){t=x?t.value():t,r=v?r.value():r,m||(m=new Z),r=Pt(t,r,e,c,m);break t}if(w)r:if(m||(m=new Z),x=1&e,v=F(t),T=v.length,w=F(r).length,T==w||x){for(P=T;P--;){var z=v[P];if(!(x?z in r:xt.call(r,z))){r=!1;break r}}if((w=m.get(t))&&m.get(r))r=w==r;else{w=!0,m.set(t,r),m.set(r,t);for(var N=x;++P<T;){var M=t[z=v[P]],R=r[z];if(c)var ft=x?c(R,M,z,r,t,m):c(M,R,z,t,r,m);if(ft===W?M!==R&&!Pt(M,R,e,c,m):!ft){w=!1;break}N||(N=z=="constructor")}w&&!N&&(e=t.constructor)!=(c=r.constructor)&&"constructor"in t&&"constructor"in r&&!(typeof e=="function"&&e instanceof e&&typeof c=="function"&&c instanceof c)&&(w=!1),m.delete(t),m.delete(r),r=w}}else r=!1;else r=!1}}return r}function yr(t){return typeof t=="function"?t:t==null?er:typeof t=="object"?_t(t)?(function(e,c){return tt(e)&&c==c&&!Ot(c)?st(ot(e),c):function(m){var v=On(m,e);return v===W&&v===c?Fn(m,e):Pt(c,v,3)}})(t[0],t[1]):(function(e){var c=(function(v){for(var w=nr(v),x=w.length;x--;){var T=w[x],P=v[T];w[x]=[T,P,P==P&&!Ot(P)]}return w})(e);return c.length==1&&c[0][2]?st(c[0][0],c[0][1]):function(m){return m===e||(function(w,x){var T=x.length,P=T;if(w==null)return!P;for(w=Object(w);T--;)if((z=x[T])[2]?z[1]!==w[z[0]]:!(z[0]in w))return!1;for(;++T<P;){var z,N=(z=x[T])[0],M=w[N],R=z[1];if(z[2]){if(M===W&&!(N in w))return!1}else if(!Pt(R,M,3,void 0,z=new Z))return!1}return!0})(m,c)}})(t):Nn(t)}function Pr(t,r,e){var c=-1;return r=u(r.length?r:[er],_(rt())),(function(v,w){var x=v.length;for(v.sort(w);x--;)v[x]=v[x].c;return v})(t=(function(v,w){var x=-1,T=K(v)?Array(v.length):[];return te(v,(function(P,z,N){T[++x]=w(P,z,N)})),T})(t,(function(m){return{a:u(r,(function(v){return v(m)})),b:++c,c:m}})),(function(m,v){var w;t:{w=-1;for(var x=m.a,T=v.a,P=x.length,z=e.length;++w<P;){var N;r:{N=x[w];var M=T[w];if(N!==M){var R=N!==W,ft=N===null,pt=N==N,Tt=Vt(N),kt=M!==W,dt=M===null,mt=M==M,St=Vt(M);if(!dt&&!St&&!Tt&&N>M||Tt&&kt&&mt&&!dt&&!St||ft&&kt&&mt||!R&&mt||!pt){N=1;break r}if(!ft&&!Tt&&!St&&N<M||St&&R&&pt&&!ft&&!Tt||dt&&R&&pt||!kt&&pt||!mt){N=-1;break r}}N=0}if(N){w=w>=z?N:N*(e[w]=="desc"?-1:1);break t}}w=m.b-v.b}return w}))}function Mt(t){return oe(yt(t,er),t+"")}function Jt(t){if(typeof t=="string")return t;if(_t(t))return u(t,Jt)+"";if(Vt(t))return Jn?Jn.call(t):"";var r=t+"";return r=="0"&&1/t==-_r?"-0":r}function mr(t,r,e){var c=-1,m=l,v=t.length,w=!0,x=[],T=x;if(e)w=!1,m=f;else if(200<=v){if(m=mo(t))return s(m);w=!1,m=k,T=new $}else T=x;t:for(;++c<v;){var P=t[c],z=P;if(P=e||P!==0?P:0,w&&z==z){for(var N=T.length;N--;)if(T[N]===z)continue t;x.push(P)}else m(T,z,e)||(T!==x&&T.push(z),x.push(P))}return x}function tr(t){return lt(t)?t:[]}function vr(t,r){return _t(t)?t:tt(t,r)?[t]:bo(In(t))}function rr(t){var r=new t.constructor(t.byteLength);return new $r(r).set(new $r(t)),r}function zt(t,r,e,c){var m=-1,v=t.length,w=e.length,x=-1,T=r.length,P=or(v-w,0),z=Array(T+P);for(c=!c;++x<T;)z[x]=r[x];for(;++m<w;)(c||m<v)&&(z[e[m]]=t[m]);for(;P--;)z[x++]=t[m++];return z}function Bt(t,r,e,c){var m=-1,v=t.length,w=-1,x=e.length,T=-1,P=r.length,z=or(v-x,0),N=Array(z+P);for(c=!c;++m<z;)N[m]=t[m];for(z=m;++T<P;)N[z+T]=r[T];for(;++w<x;)(c||m<v)&&(N[z+e[w]]=t[m++]);return N}function br(t,r){var e=-1,c=t.length;for(r||(r=Array(c));++e<c;)r[e]=t[e];return r}function Wt(t){return function(){switch((r=arguments).length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var r,e=un(t.prototype);return Ot(r=t.apply(e,r))?r:e}}function O(t,r,e){var c=Wt(t);return function m(){for(var v=arguments.length,w=Array(v),x=v,T=Q(m);x--;)w[x]=arguments[x];return(v-=(x=3>v&&w[0]!==T&&w[v-1]!==T?[]:S(w,T)).length)<e?C(t,r,g,m.placeholder,W,w,x,W,W,e-v):i(this&&this!==jt&&this instanceof m?c:t,this,w)}}function g(t,r,e,c,m,v,w,x,T,P){var z=128&r,N=1&r,M=2&r,R=24&r,ft=512&r,pt=M?W:Wt(t);return function Tt(){for(var kt=arguments.length,dt=Array(kt),mt=kt;mt--;)dt[mt]=arguments[mt];if(R){var St,Zt=Q(Tt);for(mt=dt.length,St=0;mt--;)dt[mt]===Zt&&++St}if(c&&(dt=zt(dt,c,m,R)),v&&(dt=Bt(dt,v,w,R)),kt-=St,R&&kt<P)return Zt=S(dt,Zt),C(t,r,g,Tt.placeholder,e,dt,Zt,x,T,P-kt);if(Zt=N?e:this,mt=M?Zt[t]:t,kt=dt.length,x){St=dt.length;for(var sn=on(x.length,St),ko=br(dt);sn--;){var ce=x[sn];dt[sn]=X(ce,St)?ko[ce]:W}}else ft&&1<kt&&dt.reverse();return z&&T<kt&&(dt.length=T),this&&this!==jt&&this instanceof Tt&&(mt=pt||Wt(mt)),mt.apply(Zt,dt)}}function A(t,r,e,c){var m=1&r,v=Wt(t);return function w(){for(var x=-1,T=arguments.length,P=-1,z=c.length,N=Array(z+T),M=this&&this!==jt&&this instanceof w?v:t;++P<z;)N[P]=c[P];for(;T--;)N[P++]=arguments[++x];return i(M,m?e:this,N)}}function C(t,r,e,c,m,v,w,x,T,P){var z=8&r,N=z?w:W;4&(r=(r|(z?32:64))&~(z?64:32))||(r&=-4),m=[t,r,m,z?v:W,N,v=z?W:v,w=z?W:w,x,T,P],e=e.apply(W,m);t:for(x=t.name+"",T=Kn[x],P=xt.call(Kn,x)?T.length:0;P--;)if(z=T[P],N=z.func,N==null||N==t){x=z.name;break t}return typeof(T=p[x])=="function"&&x in L.prototype?t===T?x=!0:x=!!(x=ne(T))&&t===x[0]:x=!1,x&&ee(e,m),e.placeholder=c,nt(e,t,r)}function y(t,r,e,c,m,v){var w=1&e,x=t.length;if(x!=(T=r.length)&&!(w&&T>x))return!1;if((T=v.get(t))&&v.get(r))return T==r;var T=-1,P=!0,z=2&e?new $:W;for(v.set(t,r),v.set(r,t);++T<x;){var N=t[T],M=r[T];if(c)var R=w?c(M,N,T,r,t,v):c(N,M,T,t,r,v);if(R!==W){if(R)continue;P=!1;break}if(z){if(!h(r,(function(ft,pt){if(!k(z,pt)&&(N===ft||m(N,ft,e,c,v)))return z.push(pt)}))){P=!1;break}}else if(N!==M&&!m(N,M,e,c,v)){P=!1;break}}return v.delete(t),v.delete(r),P}function G(t,r,e,c,m,v,w){switch(e){case"[object DataView]":if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)break;t=t.buffer,r=r.buffer;case"[object ArrayBuffer]":if(t.byteLength!=r.byteLength||!v(new $r(t),new $r(r)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return It(+t,+r);case"[object Error]":return t.name==r.name&&t.message==r.message;case"[object RegExp]":case"[object String]":return t==r+"";case"[object Map]":var x=E;case"[object Set]":if(x||(x=s),t.size!=r.size&&!(1&c))break;return(e=w.get(t))?e==r:(c|=2,w.set(t,r),r=y(x(t),x(r),c,m,v,w),w.delete(t),r);case"[object Symbol]":if(kr)return kr.call(t)==kr.call(r)}return!1}function F(t){return Tr(t,nr,vo)}function Q(t){return(xt.call(p,"placeholder")?p:t).placeholder}function rt(){var t=(t=p.iteratee||Kr)===Kr?yr:t;return arguments.length?t(arguments[0],arguments[1]):t}function Y(t,r){var e=t.__data__,c=typeof r;return(c=="string"||c=="number"||c=="symbol"||c=="boolean"?r!=="__proto__":r===null)?e[typeof r=="string"?"string":"hash"]:e.map}function q(t,r){var e=t==null?W:t[r];return!Ot(e)||Gn&&Gn in e||!(Hr(e)?eo:Ze).test(gt(e))?W:e}function D(t){return _t(t)||Wr(t)||!!(Hn&&t&&t[Hn])}function X(t,r){var e=typeof t;return!!(r=r??9007199254740991)&&(e=="number"||e!="symbol"&&Qe.test(t))&&-1<t&&t%1==0&&t<r}function tt(t,r){if(_t(t))return!1;var e=typeof t;return!(e!="number"&&e!="symbol"&&e!="boolean"&&t!=null&&!Vt(t))||$e.test(t)||!Be.test(t)||r!=null&&t in Object(r)}function H(t){var r=t&&t.constructor;return t===(typeof r=="function"&&r.prototype||Mr)}function st(t,r){return function(e){return e!=null&&e[t]===r&&(r!==W||t in Object(e))}}function yt(t,r){var e=or((e=void 0)===W?t.length-1:e,0);return function(){for(var c=arguments,m=-1,v=or(c.length-e,0),w=Array(v);++m<v;)w[m]=c[e+m];for(m=-1,v=Array(e+1);++m<e;)v[m]=c[m];return v[e]=r(w),i(t,this,v)}}function nt(t,r,e){var c=r+"";r=oe;var m,v=Rt;return e=v(m=(m=c.match(We))?m[1].split(Re):[],e),(v=e.length)&&(e[m=v-1]=(1<v?"& ":"")+e[m],e=e.join(2<v?", ":" "),c=c.replace(Ue,`{
/* [wrapped with `+e+`] */
`)),r(t,c)}function V(t){var r=0,e=0;return function(){var c=uo(),m=16-(c-e);if(e=c,0<m){if(800<=++r)return arguments[0]}else r=0;return t.apply(W,arguments)}}function ot(t){if(typeof t=="string"||Vt(t))return t;var r=t+"";return r=="0"&&1/t==-_r?"-0":r}function gt(t){if(t!=null){try{return Yn.call(t)}catch{}return t+""}return""}function Rt(t,r){return a(Me,(function(e){var c="_."+e[0];r&e[1]&&!l(t,c)&&t.push(c)})),t.sort()}function Yt(t){var r=t==null?0:t.length;return r?t[r-1]:W}function Gt(t,r){return(_t(t)?a:te)(t,rt(r,3))}function Nt(t,r){function e(){var c=arguments,m=r?r.apply(this,c):c[0],v=e.cache;return v.has(m)?v.get(m):(c=t.apply(this,c),e.cache=v.set(m,c)||v,c)}if(typeof t!="function"||r!=null&&typeof r!="function")throw new TypeError("Expected a function");return e.cache=new(Nt.Cache||U),e}function It(t,r){return t===r||t!=t&&r!=r}function K(t){return t!=null&&zr(t.length)&&!Hr(t)}function lt(t){return Ft(t)&&K(t)}function Hr(t){return!!Ot(t)&&((t=Ct(t))=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]")}function zr(t){return typeof t=="number"&&-1<t&&t%1==0&&9007199254740991>=t}function Ot(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}function Ft(t){return t!=null&&typeof t=="object"}function An(t){return typeof t=="string"||!_t(t)&&Ft(t)&&Ct(t)=="[object String]"}function Vt(t){return typeof t=="symbol"||Ft(t)&&Ct(t)=="[object Symbol]"}function En(t){return t?(t=Cn(t))===_r||t===-_r?17976931348623157e292*(0>t?-1:1):t==t?t:0:t===0?t:0}function Qr(t){var r=(t=En(t))%1;return t==t?r?t-r:t:0}function Cn(t){if(typeof t=="number")return t;if(Vt(t))return $n;if(Ot(t)&&(t=Ot(t=typeof t.valueOf=="function"?t.valueOf():t)?t+"":t),typeof t!="string")return t===0?t:+t;t=t.replace(De,"");var r=Xe.test(t);return r||He.test(t)?to(t.slice(2),r?2:8):Ve.test(t)?$n:+t}function In(t){return t==null?"":Jt(t)}function On(t,r,e){return(t=t==null?W:pr(t,r))===W?e:t}function Fn(t,r){var e;if(e=t!=null){for(var c,m=-1,v=(c=vr(r,e=t)).length,w=!1;++m<v;){var x=ot(c[m]);if(!(w=e!=null&&e!=null&&x in Object(e)))break;e=e[x]}w||++m!=v?e=w:e=!!(v=e==null?0:e.length)&&zr(v)&&X(x,v)&&(_t(e)||Wr(e))}return e}function nr(t){if(K(t))t=ct(t);else if(H(t)){var r,e=[];for(r in Object(t))xt.call(t,r)&&r!="constructor"&&e.push(r);t=e}else t=co(t);return t}function Tn(t){if(K(t))t=ct(t,!0);else if(Ot(t)){var r,e=H(t),c=[];for(r in t)(r!="constructor"||!e&&xt.call(t,r))&&c.push(r);t=c}else{if(r=[],t!=null)for(e in Object(t))r.push(e);t=r}return t}function Pn(t){return t==null?[]:(function(e,c){return u(c,(function(m){return e[m]}))})(t,nr(t))}function zn(t){return function(){return t}}function er(t){return t}function Kr(t){return yr(typeof t=="function"?t:Ut(t,1))}function Jr(){}function Nn(t){return tt(t)?(function(e){return function(c){return c==null?W:c[e]}})(ot(t)):(function(e){return function(c){return pr(c,e)}})(t)}function Mn(){return[]}function Bn(){return!1}var W,_r=1/0,$n=NaN,Me=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$e=/^\w*$/,qe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/^\s+|\s+$/g,Ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,We=/\{\n\/\* \[wrapped with (.+)\] \*/,Re=/,? & /,Ye=/\\(\\)?/g,Ge=/\w*$/,Ve=/^[-+]0x[0-9a-f]+$/i,Xe=/^0b[01]+$/i,Ze=/^\[object .+?Constructor\]$/,He=/^0o[0-7]+$/i,Qe=/^(?:0|[1-9]\d*)$/,Ke=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*","g"),Je=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),at={};at["[object Float32Array]"]=at["[object Float64Array]"]=at["[object Int8Array]"]=at["[object Int16Array]"]=at["[object Int32Array]"]=at["[object Uint8Array]"]=at["[object Uint8ClampedArray]"]=at["[object Uint16Array]"]=at["[object Uint32Array]"]=!0,at["[object Arguments]"]=at["[object Array]"]=at["[object ArrayBuffer]"]=at["[object Boolean]"]=at["[object DataView]"]=at["[object Date]"]=at["[object Error]"]=at["[object Function]"]=at["[object Map]"]=at["[object Number]"]=at["[object Object]"]=at["[object RegExp]"]=at["[object Set]"]=at["[object String]"]=at["[object WeakMap]"]=!1;var it={};it["[object Arguments]"]=it["[object Array]"]=it["[object ArrayBuffer]"]=it["[object DataView]"]=it["[object Boolean]"]=it["[object Date]"]=it["[object Float32Array]"]=it["[object Float64Array]"]=it["[object Int8Array]"]=it["[object Int16Array]"]=it["[object Int32Array]"]=it["[object Map]"]=it["[object Number]"]=it["[object Object]"]=it["[object RegExp]"]=it["[object Set]"]=it["[object String]"]=it["[object Symbol]"]=it["[object Uint8Array]"]=it["[object Uint8ClampedArray]"]=it["[object Uint16Array]"]=it["[object Uint32Array]"]=!0,it["[object Error]"]=it["[object Function]"]=it["[object WeakMap]"]=!1;var $t,to=parseInt,qn=typeof Qt=="object"&&Qt&&Qt.Object===Object&&Qt,ro=typeof self=="object"&&self&&self.Object===Object&&self,jt=qn||ro||Function("return this")(),tn=o&&!o.nodeType&&o,Nr=tn&&n&&!n.nodeType&&n,Dn=Nr&&Nr.exports===tn,rn=Dn&&qn.process;t:{try{$t=rn&&rn.binding&&rn.binding("util");break t}catch{}$t=void 0}var Un=$t&&$t.isMap,Wn=$t&&$t.isSet,Rn=$t&&$t.isTypedArray,no=Array.prototype,Mr=Object.prototype,nn=jt["__core-js_shared__"],Yn=Function.prototype.toString,xt=Mr.hasOwnProperty,Gn=(function(){var t=/[^.]+$/.exec(nn&&nn.keys&&nn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),Vn=Mr.toString,eo=RegExp("^"+Yn.call(xt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Br=Dn?jt.Buffer:W,qt=jt.Symbol,$r=jt.Uint8Array;Br&&Br.f;var oo=I(Object.getPrototypeOf),Xn=Object.create,Zn=Mr.propertyIsEnumerable,io=no.splice,Hn=qt?qt.isConcatSpreadable:W,en=qt?qt.iterator:W,Xt=qt?qt.toStringTag:W,qr=(function(){try{var t=q(Object,"defineProperty");return t({},"",{}),t}catch{}})(),Qn=Object.getOwnPropertySymbols,ao=Br?Br.isBuffer:W,co=I(Object.keys),or=Math.max,on=Math.min,uo=Date.now,an=q(jt,"DataView"),wr=q(jt,"Map"),cn=q(jt,"Promise"),ir=q(jt,"Set"),xr=q(jt,"WeakMap"),jr=q(Object,"create"),Dr=xr&&new xr,Kn={},lo=gt(an),fo=gt(wr),so=gt(cn),po=gt(ir),ho=gt(xr),Ur=qt?qt.prototype:W,kr=Ur?Ur.valueOf:W,Jn=Ur?Ur.toString:W,un=(function(){function t(){}return function(r){return Ot(r)?Xn?Xn(r):(t.prototype=r,r=new t,t.prototype=W,r):{}}})();L.prototype=un((function(){}).prototype),L.prototype.constructor=L,j.prototype.clear=function(){this.__data__=jr?jr(null):{},this.size=0},j.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},j.prototype.get=function(t){var r=this.__data__;return jr?(t=r[t])==="__lodash_hash_undefined__"?W:t:xt.call(r,t)?r[t]:W},j.prototype.has=function(t){var r=this.__data__;return jr?r[t]!==W:xt.call(r,t)},j.prototype.set=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=jr&&r===W?"__lodash_hash_undefined__":r,this},B.prototype.clear=function(){this.__data__=[],this.size=0},B.prototype.delete=function(t){var r=this.__data__;return!(0>(t=ut(r,t))||(t==r.length-1?r.pop():io.call(r,t,1),--this.size,0))},B.prototype.get=function(t){var r=this.__data__;return 0>(t=ut(r,t))?W:r[t][1]},B.prototype.has=function(t){return-1<ut(this.__data__,t)},B.prototype.set=function(t,r){var e=this.__data__,c=ut(e,t);return 0>c?(++this.size,e.push([t,r])):e[c][1]=r,this},U.prototype.clear=function(){this.size=0,this.__data__={hash:new j,map:new(wr||B),string:new j}},U.prototype.delete=function(t){return t=Y(this,t).delete(t),this.size-=t?1:0,t},U.prototype.get=function(t){return Y(this,t).get(t)},U.prototype.has=function(t){return Y(this,t).has(t)},U.prototype.set=function(t,r){var e=Y(this,t),c=e.size;return e.set(t,r),this.size+=e.size==c?0:1,this},$.prototype.add=$.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},$.prototype.has=function(t){return this.__data__.has(t)},Z.prototype.clear=function(){this.__data__=new B,this.size=0},Z.prototype.delete=function(t){var r=this.__data__;return t=r.delete(t),this.size=r.size,t},Z.prototype.get=function(t){return this.__data__.get(t)},Z.prototype.has=function(t){return this.__data__.has(t)},Z.prototype.set=function(t,r){var e=this.__data__;if(e instanceof B){var c=e.__data__;if(!wr||199>c.length)return c.push([t,r]),this.size=++e.size,this;e=this.__data__=new U(c)}return e.set(t,r),this.size=e.size,this};var te=function(t,r){if(t==null)return t;if(!K(t))return(function(v,w){return v&&go(v,w,nr)})(t,r);for(var e=t.length,c=-1,m=Object(t);++c<e&&r(m[c],c,m)!==!1;);return t},go=function(t,r,e){for(var c=-1,m=Object(t),v=(e=e(t)).length;v--;){var w=e[++c];if(r(m[w],w,m)===!1)break}return t},re=Dr?function(t,r){return Dr.set(t,r),t}:er,yo=qr?function(t,r){return qr(t,"toString",{configurable:!0,enumerable:!1,value:zn(r),writable:!0})}:er,mo=ir&&1/s(new ir([,-0]))[1]==_r?function(t){return new ir(t)}:Jr,ne=Dr?function(t){return Dr.get(t)}:Jr,vo=Qn?function(t){return t==null?[]:(t=Object(t),(function(e,c){for(var m=-1,v=e==null?0:e.length,w=0,x=[];++m<v;){var T=e[m];c(T,m,e)&&(x[w++]=T)}return x})(Qn(t),(function(r){return Zn.call(t,r)})))}:Mn,Et=Ct;(an&&Et(new an(new ArrayBuffer(1)))!="[object DataView]"||wr&&Et(new wr)!="[object Map]"||cn&&Et(cn.resolve())!="[object Promise]"||ir&&Et(new ir)!="[object Set]"||xr&&Et(new xr)!="[object WeakMap]")&&(Et=function(t){var r=Ct(t);if(t=(t=r=="[object Object]"?t.constructor:W)?gt(t):"")switch(t){case lo:return"[object DataView]";case fo:return"[object Map]";case so:return"[object Promise]";case po:return"[object Set]";case ho:return"[object WeakMap]"}return r});var ee=V(re),oe=V(yo),bo=(function(t){var r=(t=Nt(t,(function(e){return r.size===500&&r.clear(),e}))).cache;return t})((function(t){var r=[];return t.charCodeAt(0)===46&&r.push(""),t.replace(qe,(function(e,c,m,v){r.push(m?v.replace(Ye,"$1"):c||e)})),r})),_o=Mt((function(t,r){return lt(t)?sr(t,dr(r,1,lt,!0)):[]})),wo=Mt((function(t,r){var e=Yt(r);return lt(e)&&(e=W),lt(t)?sr(t,dr(r,1,lt,!0),W,e):[]})),xo=Mt((function(t){var r=u(t,tr);return r.length&&r[0]===t[0]?hr(r):[]})),jo=Mt((function(t){var r=Yt(t),e=u(t,tr);return(r=typeof r=="function"?r:W)&&e.pop(),e.length&&e[0]===t[0]?hr(e,W,r):[]}));Nt.Cache=U;var ln=Mt((function(t,r){var e,c,m=S(r,Q(ln)),v=t,w=W,x=r,T=m,P=64;if(!(m=2&P)&&typeof v!="function")throw new TypeError("Expected a function");var z=x?x.length:0;if(z||(P&=-97,x=T=W),e=e===W?e:or(Qr(e),0),c=c===W?c:Qr(c),z-=T?T.length:0,64&P){var N=x,M=T;x=T=W}var R=m?W:ne(v);return e=[v,P,w,x,T,N,M,void 0,e,c],R&&(w=(x=e[1])|(v=R[1]),c=v==128&&x==8||v==128&&x==256&&e[7].length<=R[8]||v==384&&R[7].length<=R[8]&&x==8,131>w||c)&&(1&v&&(e[2]=R[2],w|=1&x?0:4),(x=R[3])&&(c=e[3],e[3]=c?zt(c,x,R[4]):x,e[4]=c?S(e[3],"__lodash_placeholder__"):R[4]),(x=R[5])&&(c=e[5],e[5]=c?Bt(c,x,R[6]):x,e[6]=c?S(e[5],"__lodash_placeholder__"):R[6]),(x=R[7])&&(e[7]=x),128&v&&(e[8]=e[8]==null?R[8]:on(e[8],R[8])),e[9]==null&&(e[9]=R[9]),e[0]=R[0],e[1]=w),v=e[0],P=e[1],w=e[2],x=e[3],T=e[4],!(c=e[9]=e[9]===W?m?0:v.length:or(e[9]-z,0))&&24&P&&(P&=-25),nt((R?re:ee)(P&&P!=1?P==8||P==16?O(v,P,c):P!=32&&P!=33||T.length?g.apply(W,e):A(v,P,w,x):(function(pt,Tt,kt){var dt=1&Tt,mt=Wt(pt);return function St(){return(this&&this!==jt&&this instanceof St?mt:pt).apply(dt?kt:this,arguments)}})(v,P,w),e),v,P)})),Wr=gr((function(){return arguments})())?gr:function(t){return Ft(t)&&xt.call(t,"callee")&&!Zn.call(t,"callee")},_t=Array.isArray,Lr=ao||Bn,ie=Un?_(Un):function(r){return Ft(r)&&Et(r)=="[object Map]"},ae=Wn?_(Wn):function(r){return Ft(r)&&Et(r)=="[object Set]"},fn=Rn?_(Rn):function(r){return Ft(r)&&zr(r.length)&&!!at[Ct(r)]};p.constant=zn,p.difference=_o,p.differenceWith=wo,p.intersection=xo,p.intersectionWith=jo,p.iteratee=Kr,p.keys=nr,p.keysIn=Tn,p.memoize=Nt,p.orderBy=function(t,r,e,c){return t==null?[]:(_t(r)||(r=r==null?[]:[r]),_t(e=c?W:e)||(e=e==null?[]:[e]),Pr(t,r,e))},p.partialRight=ln,p.property=Nn,p.toArray=function(t){if(!t)return[];if(K(t))return An(t)?Je.test(t)?t.match(Ke)||[]:t.split(""):br(t);if(en&&t[en]){t=t[en]();for(var r,e=[];!(r=t.next()).done;)e.push(r.value);return e}return((r=Et(t))=="[object Map]"?E:r=="[object Set]"?s:Pn)(t)},p.uniq=function(t){return t&&t.length?mr(t):[]},p.uniqWith=function(t,r){return r=typeof r=="function"?r:W,t&&t.length?mr(t,W,r):[]},p.values=Pn,p.eq=It,p.forEach=Gt,p.get=On,p.hasIn=Fn,p.identity=er,p.isArguments=Wr,p.isArray=_t,p.isArrayLike=K,p.isArrayLikeObject=lt,p.isBuffer=Lr,p.isFunction=Hr,p.isLength=zr,p.isMap=ie,p.isObject=Ot,p.isObjectLike=Ft,p.isSet=ae,p.isString=An,p.isSymbol=Vt,p.isTypedArray=fn,p.last=Yt,p.stubArray=Mn,p.stubFalse=Bn,p.noop=Jr,p.toFinite=En,p.toInteger=Qr,p.toNumber=Cn,p.toString=In,p.each=Gt,p.VERSION="4.17.5",ln.placeholder=p,Nr?((Nr.exports=p)._=p,tn._=p):jt._=p}).call(Qt)})(Lt,Lt.exports),String.prototype.codePointAt||(gn=(function(){try{var n={},o=Object.defineProperty,i=o(n,n,n)&&o}catch{}return i})(),yn=function(n){if(this==null)throw TypeError();var o=String(this),i=o.length,a=n?Number(n):0;if(a!=a&&(a=0),!(a<0||a>=i)){var l,f=o.charCodeAt(a);return f>=55296&&f<=56319&&i>a+1&&(l=o.charCodeAt(a+1))>=56320&&l<=57343?1024*(f-55296)+l-56320+65536:f}},gn?gn(String.prototype,"codePointAt",{value:yn,configurable:!0,writable:!0}):String.prototype.codePointAt=yn),String.fromCodePoint||(function(){var n=(function(){try{var l={},f=Object.defineProperty,u=f(l,l,l)&&f}catch{}return u})(),o=String.fromCharCode,i=Math.floor,a=function(l){var f,u,b=16384,h=[],d=-1,_=arguments.length;if(!_)return"";for(var k="";++d<_;){var E=Number(arguments[d]);if(!isFinite(E)||E<0||E>1114111||i(E)!=E)throw RangeError("Invalid code point: "+E);E<=65535?h.push(E):(f=55296+((E-=65536)>>10),u=E%1024+56320,h.push(f,u)),(d+1==_||h.length>b)&&(k+=o.apply(null,h),h.length=0)}return k};n?n(String,"fromCodePoint",{value:a,configurable:!0,writable:!0}):String.fromCodePoint=a})();try{bn=typeof Intl<"u"&&Intl.Collator!==void 0?Intl.Collator("generic",{sensitivity:"base"}):null}catch{typeof console!==void 0&&console.warn("Collator could not be initialized and wouldn't be used")}var _n,Qo=function(o,i,a,l){var f=[],u=[],b=a&&bn&&a.useCollator,h=1;if(a&&a.subcost&&typeof a.subcost=="number"&&(h=a.subcost),o===i)return 0;var d,_,k,E,I=l(o),S=l(i),s=I.length,p=S.length;if(s===0)return p;if(p===0)return s;for(var L=0,j=0;L<s;)u[L]=I[L].codePointAt(0),f[L]=++L;if(b)for(;j<p;)for(d=S[j].codePointAt(0),k=j++,_=j,L=0;L<s;L++)E=bn.compare(String.fromCodePoint(d),String.fromCodePoint(u[L]))===0?k:k+h,k=f[L],_=f[L]=k>_?E>_?_+1:E:E>k?k+1:E;else for(;j<p;)for(d=S[j].codePointAt(0),k=j++,_=j,L=0;L<s;L++)E=d===u[L]?k:k+h,k=f[L],_=f[L]=k>_?E>_?_+1:E:E>k?k+1:E;return _};try{_n=typeof Intl<"u"&&Intl.Collator!==void 0?Intl.Collator("generic",{sensitivity:"base"}):null}catch{typeof console!==void 0&&console.warn("Collator could not be initialized and wouldn't be used")}var wn,se=function(o,i,a,l){var f=[],u=[],b=a&&_n&&a.useCollator,h=1;if(a&&a.subcost&&typeof a.subcost=="number"&&(h=a.subcost),o===i)return 0;var d=o.length,_=i.length;if(d===0)return _;if(_===0)return d;if(a&&a.wildcards&&typeof a.wildcards=="string"&&a.wildcards.length>0){var k,E,I,S,s,p;if(a.full_process===!1&&a.processed!==!0){E=(k=a.wildcards[0]).charCodeAt(0);var L="["+(function($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})(a.wildcards)+"]";if((o=o.replace(new RegExp(L,"g"),k))===(i=i.replace(new RegExp(L,"g"),k)))return 0}else E=(k=a.wildcards[0].toLowerCase()).charCodeAt(0);for(var j=0,B=0;j<d;)u[j]=o.charCodeAt(j),f[j]=++j;if(b)for(;B<_;)for(I=i.charCodeAt(B),s=B++,S=B,j=0;j<d;j++)p=_n.compare(String.fromCharCode(I),String.fromCharCode(u[j]))===0||I===E||u[j]===E?s:s+h,s=f[j],S=f[j]=s>S?p>S?S+1:p:p>s?s+1:p;else for(;B<_;)for(I=i.charCodeAt(B),s=B++,S=B,j=0;j<d;j++)p=I===u[j]||I===E||u[j]===E?s:s+h,s=f[j],S=f[j]=s>S?p>S?S+1:p:p>s?s+1:p;return S}return l(o,i,a)};try{wn=typeof Intl<"u"&&Intl.Collator!==void 0?Intl.Collator("generic",{sensitivity:"base"}):null}catch{typeof console!==void 0&&console.warn("Collator could not be initialized and wouldn't be used")}var de=function(o,i,a){var l=[],f=[],u=a&&wn&&a.useCollator,b=1;if(a&&a.subcost&&typeof a.subcost=="number"&&(b=a.subcost),o===i)return 0;var h,d,_,k,E=o.length,I=i.length;if(E===0)return I;if(I===0)return E;for(var S=0,s=0;S<E;)f[S]=o.charCodeAt(S),l[S]=++S;if(u)for(;s<I;)for(h=i.charCodeAt(s),_=s++,d=s,S=0;S<E;S++)k=wn.compare(String.fromCharCode(h),String.fromCharCode(f[S]))===0?_:_+b,_=l[S],d=l[S]=_>d?k>d?d+1:k:k>_?_+1:k;else for(;s<I;)for(h=i.charCodeAt(s),_=s++,d=s,S=0;S<E;S++)k=h===f[S]?_:_+b,_=l[S],d=l[S]=_>d?k>d?d+1:k:k>_?_+1:k;return d};(function(n,o){if(!n.setImmediate){var i,a=1,l={},f=!1,u=n.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(n);b=b&&b.setTimeout?b:n,{}.toString.call(n.process)==="[object process]"?(function(){i=function(k){process.nextTick((function(){d(k)}))}})():(function(){if(n.postMessage&&!n.importScripts){var k=!0,E=n.onmessage;return n.onmessage=function(){k=!1},n.postMessage("","*"),n.onmessage=E,k}})()?(function(){var k="setImmediate$"+Math.random()+"$",E=function(I){I.source===n&&typeof I.data=="string"&&I.data.indexOf(k)===0&&d(+I.data.slice(k.length))};n.addEventListener?n.addEventListener("message",E,!1):n.attachEvent("onmessage",E),i=function(I){n.postMessage(k+I,"*")}})():n.MessageChannel?(function(){var k=new MessageChannel;k.port1.onmessage=function(E){d(E.data)},i=function(E){k.port2.postMessage(E)}})():u&&"onreadystatechange"in u.createElement("script")?(function(){var k=u.documentElement;i=function(E){var I=u.createElement("script");I.onreadystatechange=function(){d(E),I.onreadystatechange=null,k.removeChild(I),I=null},k.appendChild(I)}})():(function(){i=function(k){setTimeout(d,0,k)}})(),b.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var E=new Array(arguments.length-1),I=0;I<E.length;I++)E[I]=arguments[I+1];var S={callback:k,args:E};return l[a]=S,i(a),a++},b.clearImmediate=h}function h(_){delete l[_]}function d(_){if(f)setTimeout(d,0,_);else{var k=l[_];if(k){f=!0;try{(function(I){var S=I.callback,s=I.args;switch(s.length){case 0:S();break;case 1:S(s[0]);break;case 2:S(s[0],s[1]);break;case 3:S(s[0],s[1],s[2]);break;default:S.apply(void 0,s)}})(k)}finally{h(_),f=!1}}}}})(typeof self>"u"?Qt:self);var Ko={astral:!1,natives:!1},vt={exec:RegExp.prototype.exec,test:RegExp.prototype.test,replace:String.prototype.replace,split:String.prototype.split},Ar={},Er={},cr={},xn=[],Jo={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},ti=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,ri=vt.exec.call(/()??/,"")[1]===void 0,ni=/x/.flags!==void 0,pe={}.toString;function Ln(n){var o=!0;try{new RegExp("",n)}catch{o=!1}return o&&n==="y"?new RegExp("aa|.","y").test("b"):o}var Ce=Ln("u"),jn=Ln("y"),Ie={g:!0,i:!0,m:!0,u:Ce,y:jn};function Oe(n,o,i,a,l){var f;if(n.xregexp={captureNames:o},l)return n;if(n.__proto__)n.__proto__=J.prototype;else for(f in J.prototype)n[f]=J.prototype[f];return n.xregexp.source=i,n.xregexp.flags=a&&a.split("").sort().join(""),n}function Fr(n){return vt.replace.call(n,/([\s\S])(?=[\s\S]*\1)/g,"")}function Cr(n,o){if(!J.isRegExp(n))throw new TypeError("Type RegExp expected");var i=n.xregexp||{},a=(function(d){return ni?d.flags:vt.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(d))[1]})(n),l="",f="",u=null,b=null;return(o=o||{}).removeG&&(f+="g"),o.removeY&&(f+="y"),f&&(a=vt.replace.call(a,new RegExp("["+f+"]+","g"),"")),o.addG&&(l+="g"),o.addY&&(l+="y"),l&&(a=Fr(a+l)),o.isInternalOnly||(i.source!==void 0&&(u=i.source),i.flags!=null&&(b=l?Fr(i.flags+l):i.flags)),n=Oe(new RegExp(o.source||n.source,a),(function(d){return!(!d.xregexp||!d.xregexp.captureNames)})(n)?i.captureNames.slice(0):null,u,b,o.isInternalOnly)}function he(n){return parseInt(n,16)}function ge(n){return parseInt(n,10).toString(16)}function Yr(n,o){var i,a=n.length;for(i=0;i<a;++i)if(n[i]===o)return i;return-1}function ye(n,o,i){return vt.test.call(i.indexOf("x")>-1?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,n.slice(o))}function me(n){for(;n.length<4;)n="0"+n;return n}function ve(n){if(!/^[\w$]$/.test(n))throw new Error("Flag must be a single character A-Za-z0-9_$");Ie[n]=!0}function ei(n,o,i,a,l){for(var f,u,b=xn.length,h=n.charAt(i),d=null;b--;)if(!((u=xn[b]).leadChar&&u.leadChar!==h||u.scope!==a&&u.scope!=="all"||u.flag&&o.indexOf(u.flag)===-1)&&(f=J.exec(n,u.regex,i,"sticky"))){d={matchLength:f[0].length,output:u.handler.call(l,f,a,o),reparse:u.reparse};break}return d}function J(n,o){if(J.isRegExp(n)){if(o!==void 0)throw new TypeError("Cannot supply flags when copying a RegExp");return Cr(n)}if(n=n===void 0?"":String(n),o=o===void 0?"":String(o),J.isInstalled("astral")&&o.indexOf("A")===-1&&(o+="A"),cr[n]||(cr[n]={}),!cr[n][o]){for(var i,a={hasNamedCapture:!1,captureNames:[]},l="default",f="",u=0,b=(function(I,S){var s;if(Fr(S)!==S)throw new SyntaxError("Invalid duplicate regex flag "+S);for(I=vt.replace.call(I,/^\(\?([\w$]+)\)/,(function(p,L){if(vt.test.call(/[gy]/,L))throw new SyntaxError("Cannot use flag g or y in mode modifier "+p);return S=Fr(S+L),""})),s=0;s<S.length;++s)if(!Ie[S.charAt(s)])throw new SyntaxError("Unknown regex flag "+S.charAt(s));return{pattern:I,flags:S}})(n,o),h=b.pattern,d=b.flags;u<h.length;){do(i=ei(h,d,u,l,a))&&i.reparse&&(h=h.slice(0,u)+i.output+h.slice(u+i.matchLength));while(i&&i.reparse);if(i)f+=i.output,u+=i.matchLength||1;else{var _=J.exec(h,Jo[l],u,"sticky")[0];f+=_,u+=_.length,_==="["&&l==="default"?l="class":_==="]"&&l==="class"&&(l="default")}}cr[n][o]={pattern:vt.replace.call(f,/(?:\(\?:\))+/g,"(?:)"),flags:vt.replace.call(d,/[^gimuy]+/g,""),captures:a.hasNamedCapture?a.captureNames:null}}var k=cr[n][o];return Oe(new RegExp(k.pattern,k.flags),k.captures,n,o)}J.prototype=new RegExp,J.version="3.1.1-next",J._clipDuplicates=Fr,J._hasNativeFlag=Ln,J._dec=he,J._hex=ge,J._pad4=me,J.addToken=function(n,o,i){var a,l=(i=i||{}).optionalFlags;if(i.flag&&ve(i.flag),l)for(l=vt.split.call(l,""),a=0;a<l.length;++a)ve(l[a]);xn.push({regex:Cr(n,{addG:!0,addY:jn,isInternalOnly:!0}),handler:o,scope:i.scope||"default",flag:i.flag,reparse:i.reparse,leadChar:i.leadChar}),J.cache.flush("patterns")},J.cache=function(n,o){return Er[n]||(Er[n]={}),Er[n][o]||(Er[n][o]=J(n,o))},J.cache.flush=function(n){n==="patterns"?cr={}:Er={}},J.exec=function(n,o,i,a){var l,f,u,b="g",h=!1;return(l=jn&&!!(a||o.sticky&&a!==!1))?b+="y":a&&(h=!0,b+="FakeY"),o.xregexp=o.xregexp||{},i=i||0,(u=o.xregexp[b]||(o.xregexp[b]=Cr(o,{addG:!0,addY:l,source:h?o.source+"|()":void 0,removeY:a===!1,isInternalOnly:!0}))).lastIndex=i,f=Ar.exec.call(u,n),h&&f&&f.pop()===""&&(f=null),o.global&&(o.lastIndex=f?u.lastIndex:0),f},J.isInstalled=function(n){return!!Ko[n]},J.isRegExp=function(n){return pe.call(n)==="[object RegExp]"},J.replace=function(n,o,i,a){var l,f=J.isRegExp(o),u=o.global&&a!=="one"||a==="all",b=(u?"g":"")+(o.sticky?"y":"")||"noGY",h=o;return f?(o.xregexp=o.xregexp||{},h=o.xregexp[b]||(o.xregexp[b]=Cr(o,{addG:!!u,removeG:a==="one",isInternalOnly:!0}))):u&&(h=new RegExp(J.escape(String(o)),"g")),l=Ar.replace.call((function(_){if(_==null)throw new TypeError("Cannot convert null or undefined to object");return _})(n),h,i),f&&o.global&&(o.lastIndex=0),l},Ar.exec=function(n){var o,i,a,l=this.lastIndex,f=vt.exec.apply(this,arguments);if(f){if(!ri&&f.length>1&&Yr(f,"")>-1&&(i=Cr(this,{removeG:!0,isInternalOnly:!0}),vt.replace.call(String(n).slice(f.index),i,(function(){var u,b=arguments.length;for(u=1;u<b-2;++u)arguments[u]===void 0&&(f[u]=void 0)}))),this.xregexp&&this.xregexp.captureNames)for(a=1;a<f.length;++a)(o=this.xregexp.captureNames[a-1])&&(f[o]=f[a]);this.global&&!f[0].length&&this.lastIndex>f.index&&(this.lastIndex=f.index)}return this.global||(this.lastIndex=l),f},Ar.replace=function(n,o){var i,a,l,f=J.isRegExp(n);return f?(n.xregexp&&(a=n.xregexp.captureNames),i=n.lastIndex):n+="",l=(function(b,h){return pe.call(b)==="[object "+h+"]"})(o,"Function")?vt.replace.call(String(this),n,(function(){var u,b=arguments;if(a)for(b[0]=new String(b[0]),u=0;u<a.length;++u)a[u]&&(b[0][a[u]]=b[u+1]);return f&&n.global&&(n.lastIndex=b[b.length-2]+b[0].length),o.apply(void 0,b)})):vt.replace.call(this==null?this:String(this),n,(function(){var u=arguments;return vt.replace.call(String(o),ti,(function(b,h,d){var _;if(h){if((_=+h)<=u.length-3)return u[_]||"";if((_=a?Yr(a,h):-1)<0)throw new SyntaxError("Backreference to undefined group "+b);return u[_+1]||""}if(d==="$")return"$";if(d==="&"||+d==0)return u[0];if(d==="`")return u[u.length-1].slice(0,u[u.length-2]);if(d==="'")return u[u.length-1].slice(u[u.length-2]+u[0].length);if(d=+d,!isNaN(d)){if(d>u.length-3)throw new SyntaxError("Backreference to undefined group "+b);return u[d]||""}throw new SyntaxError("Invalid token "+b)}))})),f&&(n.global?n.lastIndex=0:n.lastIndex=i),l},Ar.split=function(n,o){if(!J.isRegExp(n))return vt.split.apply(this,arguments);var i,a=String(this),l=[],f=n.lastIndex,u=0;return o=(o===void 0?-1:o)>>>0,J.forEach(a,n,(function(b){b.index+b[0].length>u&&(l.push(a.slice(u,b.index)),b.length>1&&b.index<a.length&&Array.prototype.push.apply(l,b.slice(1)),i=b[0].length,u=b.index+i)})),u===a.length?vt.test.call(n,"")&&!i||l.push(""):l.push(a.slice(u)),n.lastIndex=f,l.length>o?l.slice(0,o):l},J.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,(function(n,o){if(n[1]==="B"&&o==="default")return n[0];throw new SyntaxError("Invalid escape "+n[0])}),{scope:"all",leadChar:"\\"}),J.addToken(/\\u{([\dA-Fa-f]+)}/,(function(n,o,i){var a=he(n[1]);if(a>1114111)throw new SyntaxError("Invalid Unicode code point "+n[0]);if(a<=65535)return"\\u"+me(ge(a));if(Ce&&i.indexOf("u")>-1)return n[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")}),{scope:"all",leadChar:"\\"}),J.addToken(/\[(\^?)\]/,(function(n){return n[1]?"[\\s\\S]":"\\b\\B"}),{leadChar:"["}),J.addToken(/\(\?#[^)]*\)/,(function(n,o,i){return ye(n.input,n.index+n[0].length,i)?"":"(?:)"}),{leadChar:"("}),J.addToken(/\s+|#[^\n]*\n?/,(function(n,o,i){return ye(n.input,n.index+n[0].length,i)?"":"(?:)"}),{flag:"x"}),J.addToken(/\./,(function(){return"[\\s\\S]"}),{flag:"s",leadChar:"."}),J.addToken(/\\k<([\w$]+)>/,(function(n){var o=isNaN(n[1])?Yr(this.captureNames,n[1])+1:+n[1],i=n.index+n[0].length;if(!o||o>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+n[0]);return"\\"+o+(i===n.input.length||isNaN(n.input.charAt(i))?"":"(?:)")}),{leadChar:"\\"}),J.addToken(/\\(\d+)/,(function(n,o){if(!(o==="default"&&/^[1-9]/.test(n[1])&&+n[1]<=this.captureNames.length)&&n[1]!=="0")throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+n[0]);return n[0]}),{scope:"all",leadChar:"\\"}),J.addToken(/\(\?P?<([\w$]+)>/,(function(n){if(!isNaN(n[1]))throw new SyntaxError("Cannot use integer as capture name "+n[0]);if(n[1]==="length"||n[1]==="__proto__")throw new SyntaxError("Cannot use reserved word as capture name "+n[0]);if(Yr(this.captureNames,n[1])>-1)throw new SyntaxError("Cannot use same name for multiple groups "+n[0]);return this.captureNames.push(n[1]),this.hasNamedCapture=!0,"("}),{leadChar:"("}),J.addToken(/\((?!\?)/,(function(n,o,i){return i.indexOf("n")>-1?"(?:":(this.captureNames.push(null),"(")}),{optionalFlags:"n",leadChar:"("});var kn=J;(function(n){var o={},i=n._dec,a=n._hex,l=n._pad4;function f(h){return h.replace(/[- _]+/g,"").toLowerCase()}function u(h){var d=/^\\[xu](.+)/.exec(h);return d?i(d[1]):h.charCodeAt(h.charAt(0)==="\\"?1:0)}function b(h){return o[h]["b!"]||(o[h]["b!"]=(function(_){var k="",E=-1;return n.forEach(_,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,(function(I){var S=u(I[1]);S>E+1&&(k+="\\u"+l(a(E+1)),S>E+2&&(k+="-\\u"+l(a(S-1)))),E=u(I[2]||I[1])})),E<65535&&(k+="\\u"+l(a(E+1)),E<65534&&(k+="-\\uFFFF")),k})(o[h].bmp))}n.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,(function(h,d,_){var k=h[1]==="P"||!!h[2],E=f(h[4]||h[3]),I=o[E];if(h[1]==="P"&&h[2])throw new SyntaxError("Invalid double negation "+h[0]);if(!o.hasOwnProperty(E))throw new SyntaxError("Unknown Unicode token "+h[0]);if(I.inverseOf){if(E=f(I.inverseOf),!o.hasOwnProperty(E))throw new ReferenceError("Unicode token missing data "+h[0]+" -> "+I.inverseOf);I=o[E],k=!k}if(!I.bmp)throw new SyntaxError("Astral mode required for Unicode token "+h[0]);return d==="class"?k?b(E):I.bmp:(k?"[^":"[")+I.bmp+"]"}),{scope:"all",optionalFlags:"A",leadChar:"\\"}),n.addUnicodeData=function(h){for(var d,_=0;_<h.length;++_){if(!(d=h[_]).name)throw new Error("Unicode token requires name");if(!(d.inverseOf||d.bmp||d.astral))throw new Error("Unicode token has no character data "+d.name);o[f(d.name)]=d,d.alias&&(o[f(d.alias)]=d)}n.cache.flush("patterns")},n._getUnicodeProperty=function(h){var d=f(h);return o[d]}})(kn),(function(n){if(!n.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");n.addUnicodeData([{name:"L",alias:"Letter",bmp:"A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"},{name:"N",alias:"Number",bmp:"0-9-------------------------------------------------------------"}])})(kn);var oi=kn,be={exports:{}};(function(n){n.exports=function(o,i,a,l){return(n={}).dedupe=function(u,b){var h,d=o(b);if(!i(u)&&typeof u!="object")throw new Error("contains_dupes must be an array or object");if(Object.keys(u).length===0)return typeof console!==void 0&&console.warn("contains_dupes is empty"),[];d.limit&&(typeof console!==void 0&&console.warn("options.limit will be ignored in dedupe"),d.limit=0),d.cutoff&&typeof d.cutoff=="number"||(typeof console!==void 0&&console.warn("Using default cutoff of 70"),d.cutoff=70),d.scorer||(d.scorer=a,typeof console!==void 0&&console.log("Using default scorer 'ratio' for dedupe")),h=d.processor&&typeof d.processor=="function"?d.processor:function(p){return p};var _={};for(var k in u){var E=h(u[k]);if(typeof E!="string"&&!(E instanceof String))throw new Error("Each processed item in dedupe must be a string.");var I=l(E,u,d);d.returnObjects?(I.length===1||(I=I.sort((function(p,L){var j=h(p.choice),B=h(L.choice),U=j.length,$=B.length;return U===$?j<B?-1:1:$-U}))),d.keepmap?_[h(I[0].choice)]={item:I[0].choice,key:I[0].key,matches:I}:_[h(I[0].choice)]={item:I[0].choice,key:I[0].key}):(I.length===1||(I=I.sort((function(p,L){var j=h(p[0]),B=h(L[0]),U=j.length,$=B.length;return U===$?j<B?-1:1:$-U}))),d.keepmap?_[h(I[0][0])]=[I[0][0],I[0][2],I]:_[h(I[0][0])]=[I[0][0],I[0][2]])}var S=[];for(var s in _)S.push(_[s]);return S},n}})(be),(function(){var n=Zo,o=Ho,i=Lt.exports.intersection,a=Lt.exports.intersectionWith,l=Lt.exports.difference,f=Lt.exports.differenceWith,u=Lt.exports.uniq,b=Lt.exports.uniqWith,h=Lt.exports.partialRight,d=Lt.exports.forEach,_=Lt.exports.keys,k=Lt.exports.isArray,E=Lt.exports.toArray,I=Lt.exports.orderBy,S=Qo,s=se,p=de,L=(function(O,g,A){var C={},y=oi,G=se,F=de;function Q(q){return q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rt(q){return(typeof q=="string"||q instanceof String)&&q.length>0}C.validate=rt,C.process_and_sort=function(D){return rt(D)?D.match(/\S+/g).sort().join(" ").trim():""},C.tokenize=function(D,X){if(X&&X.wildcards&&g&&A){var tt=A(G,X,F);return g(D.match(/\S+/g),(function(H,st){return tt(H,st)===0}))}return O(D.match(/\S+/g))};var Y=y("[^\\pN|\\pL]","g");return C.full_process=function(D,X){if(!(D instanceof String)&&typeof D!="string")return"";var tt;if(X&&typeof X=="object"&&X.wildcards&&typeof X.wildcards=="string"&&X.wildcards.length>0){var H=X.wildcards.toLowerCase();if(D=D.toLowerCase(),X.force_ascii){var st="[^\0 -|"+Q(H)+"]";D=D.replace(new RegExp(st,"g"),"");var yt="["+Q(H)+"]",nt=H[0];D=D.replace(new RegExp(yt,"g"),nt);var V="[^A-Za-z0-9"+Q(H)+"]";tt=(D=(D=D.replace(new RegExp(V,"g")," ")).replace(/_/g," ")).trim()}else{var ot="[^\\pN|\\pL|"+Q(H)+"]",gt=y(ot,"g");D=y.replace(D,gt," ","all"),yt="["+Q(H)+"]",nt=H[0],tt=(D=D.replace(new RegExp(yt,"g"),nt)).trim()}}else X&&(X.force_ascii||X===!0)&&(tt=(D=D.replace(/[^\x00-\x7F]/g,"")).replace(/\W|_/g," ").toLowerCase().trim()),tt=y.replace(D,Y," ","all").toLowerCase().trim();return X&&X.collapseWhitespace&&(tt=tt.replace(/\s+/g," ")),tt},C.clone_and_set_option_defaults=function(q){if(q&&q.isAClone)return q;var D={isAClone:!0};if(q){var X,tt=Object.keys(q);for(X=0;X<tt.length;X++)D[tt[X]]=q[tt[X]]}return D.full_process!==void 0&&D.full_process===!1||(D.full_process=!0),D.force_ascii!==void 0&&D.force_ascii===!0||(D.force_ascii=!1),D.normalize!==void 0&&D.normalize===!1||(D.normalize=!0),D.astral!==void 0&&D.astral===!0&&(D.full_process=!1),D.collapseWhitespace!==void 0&&D.collapseWhitespace===!1||(D.collapseWhitespace=!0),D},C.isCustomFunc=function(q){return typeof q!="function"||q.name!=="token_set_ratio"&&q.name!=="partial_token_set_ratio"&&q.name!=="token_sort_ratio"&&q.name!=="partial_token_sort_ratio"&&q.name!=="QRatio"&&q.name!=="WRatio"&&q.name!=="distance"&&q.name!=="partial_ratio"},C})(u,b,h),j=L.validate,B=L.process_and_sort,U=L.tokenize,$=L.full_process,Z=L.clone_and_set_option_defaults,ct=L.isCustomFunc,ht=be.exports(Z,k,ut,pr).dedupe;function ut(O,g,A){var C=Z(A);return O=C.full_process?$(O,C):O,g=C.full_process?$(g,C):g,j(O)&&j(g)?zt(O,g,C):0}function At(O,g,A){var C=Z(A);return O=C.full_process?$(O,C):O,g=C.full_process?$(g,C):g,j(O)&&j(g)?Mt(O,g,C):0}function Ut(O,g,A){var C=Z(A);return O=C.full_process?$(O,C):O,g=C.full_process?$(g,C):g,j(O)&&j(g)?(C.partial=!0,Mt(O,g,C)):0}function sr(O,g,A){var C=Z(A);return O=C.full_process?$(O,C):O,g=C.full_process?$(g,C):g,j(O)&&j(g)?(C.proc_sorted||(O=B(O),g=B(g)),zt(O,g,C)):0}function dr(O,g,A){var C=Z(A);return O=C.full_process?$(O,C):O,g=C.full_process?$(g,C):g,j(O)&&j(g)?(C.partial=!0,C.proc_sorted||(O=B(O),g=B(g)),Bt(O,g,C)):0}function pr(O,g,A){var C,y=Z(A);if(k(g))C=g.length;else{if(!(g instanceof Object))throw new Error("Invalid choices");C=_(g).length}if(!g||C===0)return typeof console!==void 0&&console.warn("No choices"),[];if(y.processor&&typeof y.processor!="function")throw new Error("Invalid Processor");if(y.processor||(y.processor=function(V){return V}),y.scorer&&typeof y.scorer!="function")throw new Error("Invalid Scorer");y.scorer||(y.scorer=ut);var G=ct(y.scorer);y.cutoff&&typeof y.cutoff=="number"||(y.cutoff=-1);var F=function(V,ot){return V};y.full_process&&(F=$,G||(y.processed=!0));var Q=!1;G||(O=F(O,y),y.full_process=!1,y.astral&&y.normalize&&(y.normalize=!1,String.prototype.normalize?(Q=!0,O=O.normalize()):typeof console!==void 0&&console.warn("Normalization not supported in your environment")),O.length===0&&typeof console!==void 0&&console.warn("Processed query is empty string"));var rt,Y,q,D,X=[],tt=!1,H=!1,st=!1;if(y.scorer.name==="token_sort_ratio"||y.scorer.name==="partial_token_sort_ratio"){var yt=B(O);H=!0}else if(y.scorer.name==="token_set_ratio"||y.scorer.name==="partial_token_set_ratio"){var nt=U(O,y);st=!0}return y.returnObjects?(q=function(V,ot){return V.score-ot.score},D=function(V,ot){return ot.score-V.score}):(q=function(V,ot){return V[1]-ot[1]},D=function(V,ot){return ot[1]-V[1]}),d(g,(function(V,ot){y.tokens=void 0,y.proc_sorted=!1,H?(y.proc_sorted=!0,V&&V.proc_sorted?Y=V.proc_sorted:(Y=F(y.processor(V),y),Y=B(Q?Y.normalize():Y)),rt=y.scorer(yt,Y,y)):st?(Y="x",V&&V.tokens?(y.tokens=[nt,V.tokens],y.trySimple&&(Y=F(y.processor(V),y))):(Y=F(y.processor(V),y),y.tokens=[nt,U(Q?Y.normalize():Y,y)]),rt=y.scorer(O,Y,y)):G?(Y=y.processor(V),rt=y.scorer(O,Y,y)):(typeof(Y=F(y.processor(V),y))=="string"&&Y.length!==0||(tt=!0),Q&&typeof Y=="string"&&(Y=Y.normalize()),rt=y.scorer(O,Y,y)),rt>y.cutoff&&(y.returnObjects?X.push({choice:V,score:rt,key:ot}):X.push([V,rt,ot]))})),tt&&typeof console!==void 0&&console.log("One or more choices were empty. (post-processing if applied)"),y.limit&&typeof y.limit=="number"&&y.limit>0&&y.limit<C&&!y.unsorted?X=o.nlargest(X,y.limit,q):y.unsorted||(X=X.sort(D)),X}function Tr(O,g,A,C){var y,G,F=Z(A);typeof A.abortController=="object"&&(y=A.abortController),typeof A.cancelToken=="object"&&(G=A.cancelToken);var Q=256;typeof F.asyncLoopOffset=="number"&&(Q=F.asyncLoopOffset<1?1:F.asyncLoopOffset);var rt,Y=!1;if(g&&g.length&&k(g))rt=g.length,Y=!0;else{if(!(g instanceof Object))return void C(new Error("Invalid choices"));rt=Object.keys(g).length}if(!g||rt===0)return typeof console!==void 0&&console.warn("No choices"),void C(null,[]);if(F.processor&&typeof F.processor!="function")C(new Error("Invalid Processor"));else if(F.processor||(F.processor=function(K){return K}),F.scorer&&typeof F.scorer!="function")C(new Error("Invalid Scorer"));else{F.scorer||(F.scorer=ut);var q=ct(F.scorer);F.cutoff&&typeof F.cutoff=="number"||(F.cutoff=-1);var D=function(K,lt){return K};F.full_process&&(D=$,q||(F.processed=!0));var X=!1;q||(O=D(O,F),F.full_process=!1,F.astral&&F.normalize&&(F.normalize=!1,String.prototype.normalize?(X=!0,O=O.normalize()):typeof console!==void 0&&console.warn("Normalization not supported in your environment")),O.length===0&&typeof console!==void 0&&console.warn("Processed query is empty string"));var tt,H,st,yt,nt,V=[],ot=!1,gt=!1,Rt=!1;if(F.scorer.name==="token_sort_ratio"||F.scorer.name==="partial_token_sort_ratio"){var Yt=B(O);gt=!0}else if(F.scorer.name==="token_set_ratio"||F.scorer.name==="partial_token_set_ratio"){var Gt=U(O,F);Rt=!0}F.returnObjects?(yt=function(K,lt){return K.score-lt.score},nt=function(K,lt){return lt.score-K.score}):(yt=function(K,lt){return K[1]-lt[1]},nt=function(K,lt){return lt[1]-K[1]});var Nt=Object.keys(g);Y?It(0):It(Nt[0],0)}function It(K,lt){(Y||g.hasOwnProperty(K))&&(F.tokens=void 0,F.proc_sorted=!1,gt?(F.proc_sorted=!0,g[K]&&g[K].proc_sorted?H=g[K].proc_sorted:(H=D(F.processor(g[K]),F),H=B(X?H.normalize():H)),st=F.scorer(Yt,H,F)):Rt?(H="x",g[K]&&g[K].tokens?(F.tokens=[Gt,g[K].tokens],F.trySimple&&(H=D(F.processor(g[K]),F))):(H=D(F.processor(g[K]),F),F.tokens=[Gt,U(X?H.normalize():H,F)]),st=F.scorer(O,H,F)):q?(H=F.processor(g[K]),st=F.scorer(O,H,F)):(typeof(H=D(F.processor(g[K]),F))=="string"&&H.length!==0||(ot=!0),X&&typeof H=="string"&&(H=H.normalize()),st=F.scorer(O,H,F)),tt=Y?parseInt(K):K,st>F.cutoff&&(F.returnObjects?V.push({choice:g[K],score:st,key:tt}):V.push([g[K],st,tt]))),y&&y.signal.aborted===!0?C(new Error("aborted")):G&&G.canceled===!0?C(new Error("canceled")):Y&&K<g.length-1?K%Q==0?setImmediate((function(){It(K+1)})):It(K+1):lt<Nt.length-1?lt%Q==0?setImmediate((function(){It(Nt[lt+1],lt+1)})):It(Nt[lt+1],lt+1):(ot&&typeof console!==void 0&&console.log("One or more choices were empty. (post-processing if applied)"),F.limit&&typeof F.limit=="number"&&F.limit>0&&F.limit<rt&&!F.unsorted?V=o.nlargest(V,F.limit,yt):F.unsorted||(V=V.sort(nt)),C(null,V))}}var Ct="%*SuperUniqueWildcardKey*%",hr=!1;function gr(O,g){var A=O;if(g.astral){g.normalize&&(String.prototype.normalize?A=O.normalize():hr||(typeof console!==void 0&&console.warn("Normalization not supported in your environment"),hr=!0));var C=E(A)}else C=A.split("");var y={};if(g.wildcards)for(var G=0;G<C.length;G++){var F=C[G];g.wildcards.indexOf(F)>-1?y[Ct]?y[Ct]+=1:y[Ct]=1:y[F]?y[F]+=1:y[F]=1}else for(G=0;G<C.length;G++)y[F=C[G]]?y[F]+=1:y[F]=1;return y}function Pt(O,g,A){for(var C=g,y=O.reduce((function(Y,q){return Y[q]=gr(q,A),Y}),{}),G=C.reduce((function(Y,q){return Y[q]=gr(q,A),Y}),{}),F=[],Q=0;C.length&&Q<O.length;){var rt=I(C,(function(Y){return q=y[O[Q]],D=G[Y],X=Object.keys(q),tt=Object.keys(D),H=i(X,tt).map((function(nt){return q[nt]*D[nt]})).reduce((function(nt,V){return nt+V}),0),st=X.map((function(nt){return Math.pow(q[nt],2)})).reduce((function(nt,V){return nt+V}),0),yt=tt.map((function(nt){return Math.pow(D[nt],2)})).reduce((function(nt,V){return nt+V}),0),H/(Math.sqrt(st)*Math.sqrt(yt));var q,D,X,tt,H,st,yt}),"desc")[0];F.push(rt),Q++,C=C.filter((function(Y){return Y!==rt}))}return F.concat(C)}function yr(O,g,A,C){var y=g,G=C;return(g.length>C.length||g.length===C.length&&(O.length>A.length||[O,A].sort()[0]===A))&&(y=C,G=g),[y,G]}function Pr(O,g,A){if(A.tokens)C=A.tokens[0],y=A.tokens[1];else var C=U(O,A),y=U(g,A);var G=yr(O,C.sort(),g,y.sort()),F=G[0];const Q=Pt(F,G[1],A);return A.partial?Bt(F.join(" "),Q.join(" "),A):zt(F.join(" "),Q.join(" "),A)}function Mt(O,g,A){if(A.tokens)C=A.tokens[0],y=A.tokens[1];else var C=U(O,A),y=U(g,A);if(A.wildcards)var G=h(s,A,p),F=function(Yt,Gt){return G(Yt,Gt)===0},Q=a(C,y,F),rt=f(C,y,F),Y=f(y,C,F);else Q=i(C,y),rt=l(C,y),Y=l(y,C);var q=Q.sort().join(" "),D=rt.sort(),X=Y.sort();if(A.sortBySimilarity)var tt=yr(O,D,g,X),H=tt[0],st=tt[1],yt=H.join(" "),nt=Pt(H,st,A).join(" ");else yt=D.join(" "),nt=X.join(" ");var V=q+" "+yt,ot=q+" "+nt;q=q.trim(),V=V.trim(),ot=ot.trim();var gt=zt;if(A.partial&&(gt=Bt,q.length>0))return 100;var Rt=[gt(q,V,A),gt(q,ot,A),gt(V,ot,A)];return A.trySimple&&Rt.push(gt(O,g,A)),Math.max.apply(null,Rt)}var Jt,mr,tr,vr,rr=!1;function zt(O,g,A){if(!j(O)||!j(g))return 0;if(A.ratio_alg&&A.ratio_alg==="difflib"){var C=new n(null,O,g).ratio();return Math.round(100*C)}var y,G;return A.subcost===void 0&&(A.subcost=2),A.astral?(A.normalize&&(String.prototype.normalize?(O=O.normalize(),g=g.normalize()):rr||(typeof console!==void 0&&console.warn("Normalization not supported in your environment"),rr=!0)),y=S(O,g,A,E),G=E(O).length+E(g).length):A.wildcards?(y=s(O,g,A,p),G=O.length+g.length):(y=p(O,g,A),G=O.length+g.length),Math.round((G-y)/G*100)}function Bt(O,g,A){if(!j(O)||!j(g))return 0;if(O.length<=g.length)var C=O,y=g;else C=g,y=O;for(var G=new n(null,C,y).getMatchingBlocks(),F=[],Q=0;Q<G.length;Q++){var rt=G[Q][1]-G[Q][0]>0?G[Q][1]-G[Q][0]:0,Y=rt+C.length,q=zt(C,y.substring(rt,Y),A);if(q>99.5)return 100;F.push(q)}return Math.max.apply(null,F)}Object.keys||(Object.keys=(Jt=Object.prototype.hasOwnProperty,mr=!{toString:null}.propertyIsEnumerable("toString"),vr=(tr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(O){if(typeof O!="object"&&(typeof O!="function"||O===null))throw new TypeError("Object.keys called on non-object");var g,A,C=[];for(g in O)Jt.call(O,g)&&C.push(g);if(mr)for(A=0;A<vr;A++)Jt.call(O,tr[A])&&C.push(tr[A]);return C}));var br=void 0;typeof Promise<"u"&&(br=function(O,g,A){return new Promise((function(C,y){Tr(O,g,A,(function(G,F){G?y(G):C(F)}))}))});var Wt={distance:function(g,A,C){var y=Z(C);return g=y.full_process?$(g,y):g,A=y.full_process?$(A,y):A,y.subcost===void 0&&(y.subcost=1),y.astral?S(g,A,y,E):s(g,A,y,p)},ratio:ut,partial_ratio:function(g,A,C){var y=Z(C);return g=y.full_process?$(g,y):g,A=y.full_process?$(A,y):A,j(g)&&j(A)?Bt(g,A,y):0},token_set_ratio:At,token_sort_ratio:sr,partial_token_set_ratio:Ut,partial_token_sort_ratio:dr,token_similarity_sort_ratio:function(g,A,C){var y=Z(C);return g=y.full_process?$(g,y):g,A=y.full_process?$(A,y):A,j(g)&&j(A)?Pr(g,A,y):0},partial_token_similarity_sort_ratio:function(g,A,C){var y=Z(C);return g=y.full_process?$(g,y):g,A=y.full_process?$(A,y):A,j(g)&&j(A)?(y.partial=!0,Pr(g,A,y)):0},WRatio:function(g,A,C){var y=Z(C);if(g=y.full_process?$(g,y):g,A=y.full_process?$(A,y):A,y.full_process=!1,!j(g)||!j(A))return 0;var G=!0,F=.95,Q=.9,rt=zt(g,A,y),Y=Math.max(g.length,A.length)/Math.min(g.length,A.length);if(Y<1.5&&(G=!1),Y>8&&(Q=.6),G){var q=Bt(g,A,y)*Q,D=dr(g,A,y)*F*Q,X=Ut(g,A,y)*F*Q;return Math.round(Math.max(rt,q,D,X))}var tt=sr(g,A,y)*F,H=At(g,A,y)*F;return Math.round(Math.max(rt,tt,H))},full_process:$,extract:pr,extractAsync:Tr,extractAsPromised:br,process_and_sort:B,unique_tokens:U,dedupe:ht};Ae.exports=Wt})();var bt=Ae.exports;bt.distance;const ii=bt.ratio;bt.partial_ratio;bt.token_set_ratio;bt.token_sort_ratio;bt.partial_token_set_ratio;bt.partial_token_sort_ratio;bt.token_similarity_sort_ratio;bt.partial_token_similarity_sort_ratio;bt.WRatio;bt.full_process;bt.extract;bt.extractAsync;bt.extractAsPromised;bt.process_and_sort;bt.unique_tokens;bt.dedupe;let Vr,lr,ur,Kt,fr;const Ir="_playlist.tsv";async function ai(n){fr=await li(n),fr.length&&(Kt=-1,ur=Sn(fr[0]))}function ci(){return ur&&(Kt++,Vr=lr,lr=ur),Kt+1<fr.length?ur=Sn(fr[Kt+1]):ur=null,lr}function ui(){return Vr&&(Kt--,ur=lr,lr=Vr),Kt>0&&(Vr=Sn(fr[Kt-1])),lr}function Sn(n){return{lyrics:{file:n.lyricsFile,text:we(n.lyricsFile)},audio:{file:n.audioFile,buffer:n.audioFile?Se(n.audioFile):null,offset:n.start?Gr(n.start):0,end:n.end?Gr(n.end):void 0,fade:n.fade?Gr(n.fade):0}}}async function li(n){const o=n.find(l=>l.name.toLowerCase()===Ir);if(!o){console.error(`Oops! We couldn't find a ${Ir} file in that folder! Save one in that folder and edit it to make your playlist. It may take a few seconds to check through your music files`);const l=document.createElement("p");l.textContent="One sec, we're preparing your playlist file. This may take a few seconds depending how many audio tracks you have... When it downloads, save it to the folder with your lyrics and music. Edit it to reorder your playlist then click Choose Folder again",document.body.prepend(l),await si(n),l.remove(),window.alert(`We've just downloaded a ${Ir} file for you, with the tracks we could find in the folder you chose. Open it in a spreadsheet and put the lyrics and audio files in the correct order. Then refresh the sing along app and retry.`),location.reload()}const i=Ao(await we(o)),a=fi(i,n);return a.length||console.error(`Error: ${Ir} empty`),a}function fi(n,o){let i=[],a=[];const l=d=>o.find(_=>_.name===d),f=d=>{if(d.lyrics){d.lyricsFile=l(d.lyrics);const _=Xr(d.lyrics);if(d.lyricsFile){if(!(_==="lrc"||_==="txt"))return a.push(`Only .lrc or .txt files supported, but found ${d.lyrics}`),null}else return a.push(`Playlist includes ${d.lyrics} but we couldn't find that in the folder.`),null}else return a.push(`Each playlist row must contain a lyrics file. ${d.audio?d.audio:""}`),null;return d.audio?(d.audioFile=l(d.audio),d.audioFile||a.push(`Playlist includes ${d.audio} but we couldn't find that in the folder.`)):i.push(d.lyrics),d},u=n.map(f).filter(d=>d!==null);u.length||console.error(`Error: the ${Ir} file contained no valid rows, or we couldn't find any corresponding files.`);const b=a.join(`
`);b&&console.error(`Error: ${b}`);const h=i.join(`
`);return h&&console.error(`Warning: the following tracks don't have audio: ${h}`),u}async function si(n){const o=await Promise.all(n.filter(u=>{const b=Xr(u.name);return b==="mp3"||b==="m4a"}).map(async u=>(u.duration=await Go(u),u))),i=n.filter(u=>{const b=Xr(u.name);return b==="lrc"||b==="txt"});let a=[],l=0;for(let u=0;u<o.length;u++){let b=0;for(let h=0;h<i.length;h++){let d=ii(o[u].name,i[h].name);d>b&&(b=d,l=h)}a.push([i[l]?i[l].name:"",o[u]?o[u].name:"",o[u]?"0":"",o[u]?o[u].duration:"",o[u]?"1":""].join("	")),i.splice(l,1)}for(let u=0;u<i.length;u++)a.push(i[u].name);const f=`lyrics	audio	start	end	fade\r
`+a.join(`\r
`);Eo(f,"_playlist.tsv")}let Fe,mn=null;async function di(n,o){Fe=o;const i=Array.from(n.files);await ai(i),Zr()}let vn=null;async function Te(n){if(n){const o=await n.audio.buffer,i=Oo(await n.lyrics.text,n.lyrics.file),a=o?Uo(o):null,l=mn?mn.audio.fade:0;Yo($o(),a,l,n.audio.offset),mn=n;const f=l*2/3;setTimeout(()=>Mo(i,Fe,n.audio.offset+f,n.audio.end),f*1e3);const u=n.audio.end?n.audio.end:o?.duration;u&&(vn&&clearTimeout(vn),vn=setTimeout(Zr,(u-n.audio.offset-n.audio.fade)*1e3))}}async function Zr(){Te(ci())}async function pi(){Te(ui())}async function Pe(n=document.documentElement){try{const o=n.requestFullscreen||n.webkitRequestFullscreen||n.msRequestFullscreen;if(o)await o.call(n);else throw new Error("Fullscreen API not supported by this browser.");await screen.orientation.lock("landscape")}catch(o){console.error("requestFullscreenAndLandscape error: ",o.message)}}const Dt=wt("dragcontainer");Lo(Dt,Ne);function hi(){Dt.classList.contains("dragmode")?Ne():ze()}function ze(){Pe(),wt("body").classList.remove("cursor-none"),Dt.classList.remove("hidden"),Dt.classList.add("dragmode")}function Ne(){Dt.classList.remove("dragmode"),wt("home").classList.contains("hidden")?wt("body").classList.add("cursor-none"):Dt.classList.add("hidden")}wt("screenBtn").addEventListener("click",()=>ze());const _e=wt("lyricsContainer"),gi=wt("fileInput");wt("fileInputButton").addEventListener("click",()=>wt("fileInput").click());wt("fileInput").addEventListener("change",n=>{n.target.files.length&&(wt("goBtn").classList.remove("disabled"),wt("goBtn").disabled=!1,wt("fileInputSuccess").classList.remove("hidden"))});wt("goBtn").addEventListener("click",()=>{Pe(),Dt.classList.remove("hidden"),Dt.classList.remove("dragmode"),_e.classList.remove("hidden"),wt("home").classList.add("hidden"),wt("body").classList.add("cursor-none"),document.addEventListener("keydown",n=>{n.key==="Tab"&&n.preventDefault()}),di(gi,_e)});document.addEventListener("keydown",function(n){(n.key===" "||n.key==="ArrowDown"||n.key==="PageDown"||n.key==="ArrowRight")&&!zo(500)?je():n.key==="ArrowUp"||n.key==="PageUp"||n.key==="ArrowLeft"?Bo():n.key==="0"&&(console.log("reset"),Or())});document.addEventListener("keydown",function(n){n.key==="N"?Zr():n.key==="P"&&pi()});document.addEventListener("keydown",function(n){n.key==="Z"&&hi()});
